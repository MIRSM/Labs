<html>
<head>
<title>lockd</title>
		    <style type="text/css">
TH.arial { font-family: Arial, Serif;}
P.topic { font-family: sans-serif;}
A.plain { text-decoration: none;}
A.topic01 { color: #006890;
font-family: sans-serif;
text-decoration: none;}
A.topic02 { color: #099771;
font-family: sans-serif;
text-decoration: none;}
A.topic03 { color: #719709;
font-family: sans-serif;
text-decoration: none;}
A.topic04 { color: #98650A;
font-family: sans-serif;
text-decoration: none;}
A.topic05 { color: #98340A;
font-family: sans-serif;
text-decoration: none;}
A.topic06 { color: #099607;
font-family: sans-serif;
text-decoration: none;}
A.topic07 { color: #9E1215;
font-family: sans-serif;
text-decoration: none;}
A.topic08 { color: #970941;
font-family: sans-serif;
text-decoration: none;}
A.topic09 { color: #950995;
font-family: sans-serif;
text-decoration: none;}
A.topic010 { color: #390A98;
font-family: sans-serif;
text-decoration: none;}
H1 { font-family: sans-serif;}
H2 { font-family: sans-serif;}
H3 { font-family: sans-serif;}
H4 { font-family: sans-serif;}
H5 { font-family: sans-serif;}
H6 { font-family: sans-serif;}
</style>
</head>
<body bgcolor="#FFFFFF" link="#006890" vlink="#003860" alink="#800000" text="#000000">
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/header0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<img src="_pic_/logo.gif" width=157 height=53 border=0 alt="Server for Information Technologies">
</td><td align="right">
<font size="-2">Сервер поддерживается<br><a class="plain" href="http://www.citmgu.ru">Центром Информационных Технологий</a><br>(095) 932-9212, 932-9213, 939-0783<br>E-mail: <a class=noneline href="mailto:info@citmgu.ru?Subject='From page topic CIT FORUM local copy'">info@citforum.ru</a></font>
</td></tr>
</table>
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<font size="-1">Сервер содержит море(!) аналитической информации</font>
</td><td align="right">
<font size="-1">CIT Forum CD-ROM</font>
</td></tr>
</table>
</td></tr>
</table>

<h3 align=center>lockd</h3>
<p align=justify><b>НАЗВАНИЕ</b><br>
lockd - сетевой блокирующий процесс
<p><b>СИНТАКСИС</b>
<pre>
 /etc/lockd [-d debuglevel] [-t timeout] [-g graceperiod] [-h
 hashsize] [-l k2utimeout]
</pre>
<p align=justify><b>ОПИСАНИЕ</b><br>
Lockd обрабатывает  блокирующие  запросы,  посланные либо локально ядром, либо с удаления другим блокирующим процессом. Lockd
-процесс пересылает  блокирующие  запросы,   касающиеся удаленных
данных, серверному процессу,  используя для этого пакет  RPC/XDR.
Затем lockd обращается к услугам монитора состояния statd (8).
Ответ на запрос не будет послан ядру до тех пор,  пока  не  будет
получен ответ  от  монитора  состояния  и серверного блокирующего
процесса. Если либо монитор,  либо серверный процесс не доступны,
ответ на блокирующий запрос,  касающийся удаленных данных, откладывается до освобождения всех процессов.
<p align=justify>
По возвращении сервер делает паузу (grace period),  ожидая от
всех клиентских lockd-процессов запуска подтверждающих  запросов.
Lockd-процессы, с  другой  стороны,  извещаются монитором statd о
возобновлении сервера и немедленно перевыставляют ранее  выданные
блокирующие запросы. Если lockd-процессу не удается сохранить ранее выставленную блокировку на серверном конце,  он посылает вызвавшему его процессу сигнал SIGUSR2.
<p align=justify>
Команду lockd следует запустить как можно  раньше,   еще  при
переходе из однопользовательского режима в многопользовательский,
чтобы не дать возможности другим процессам воспользоваться  стандартной блокировкой, принятой в System V. Если в стандартном системном коде захвата записей имеются активные или приостановленные
блокировки, lockd пытается передать их процессу пользовательского
уровня. Это делается для того,  чтобы блокировки активных процессов не разрушались при запуске программ администратора защиты.
<P>Опции:
<DL>
<dt>-t timeout
<dd>lockd использует значение timeout (таймаут; в
секундах) вместо соответствующего значения по
умолчанию (5 секунд)  в качестве величины интервала ретрансмиссии  блокирующего   запроса
удаленному серверу.
<dt>-d debuglevel
<dd>lockd имеет расширенные внутренние возможности в области формирования отчетов.  Уровень 2
соответствует сигнализированию о существенных
событиях. Уровень  4  сообщает  о  внутреннем
состоянии и совокупном трафике.
<dt>-g graceperiod
<dd>lockd использует значение graceperiod  (в секундах) вместо соответствующего  значения  по
умолчанию (45 секунд).
<dt>-h hashsize
<dd>lockd использует значение  hashsize   (размер
хеш-таблицы; в ячейках)  вместо соответствующего значения по умолчанию (29).
<dt>-l k2utimeout
<dd>lockd использует значение k2utimeout   (в секундах) в  качестве  интервала  ретрансмиссии
запросов ядра,   обращенных  к администратору
защиты, вместо соответствующего  значения  по
умолчанию (2 секунды).  Это значение является
величиной таймаута, используемого для локальных блокирующих запросов.
</dl>
<p><b>СМ. ТАКЖЕ</b><br>
<a href=FCNTL.htm>fcntl(2)</a>, lockf(2), <a href=SIGNAL.htm>signal(2)</a>, <a href=STATD.htm>statd(8)</a>
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/footer0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="right" valign="top" width="33%">
<font size="-2">Comments: <a class="plain" href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM local copy'">info@citmgu.ru</a><br>
Designed by <a class="plain" href="mailto:andrey@novikov.com">Andrey Novikov</a><br>
Copyright &copy; <a class="plain" href="http://www.citmgu.ru/">CIT</a></font>
</td></tr>
</table>
</td></tr>
</table>
</body>
</html>
