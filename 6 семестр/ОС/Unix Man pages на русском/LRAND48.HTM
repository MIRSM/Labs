<html>
<head>
<title>DRAND48(3C)</title>
		    <style type="text/css">
TH.arial { font-family: Arial, Serif;}
P.topic { font-family: sans-serif;}
A.plain { text-decoration: none;}
A.topic01 { color: #006890;
font-family: sans-serif;
text-decoration: none;}
A.topic02 { color: #099771;
font-family: sans-serif;
text-decoration: none;}
A.topic03 { color: #719709;
font-family: sans-serif;
text-decoration: none;}
A.topic04 { color: #98650A;
font-family: sans-serif;
text-decoration: none;}
A.topic05 { color: #98340A;
font-family: sans-serif;
text-decoration: none;}
A.topic06 { color: #099607;
font-family: sans-serif;
text-decoration: none;}
A.topic07 { color: #9E1215;
font-family: sans-serif;
text-decoration: none;}
A.topic08 { color: #970941;
font-family: sans-serif;
text-decoration: none;}
A.topic09 { color: #950995;
font-family: sans-serif;
text-decoration: none;}
A.topic010 { color: #390A98;
font-family: sans-serif;
text-decoration: none;}
H1 { font-family: sans-serif;}
H2 { font-family: sans-serif;}
H3 { font-family: sans-serif;}
H4 { font-family: sans-serif;}
H5 { font-family: sans-serif;}
H6 { font-family: sans-serif;}
</style>
</head>
<body bgcolor="#FFFFFF" link="#006890" vlink="#003860" alink="#800000" text="#000000">
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/header0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<img src="_pic_/logo.gif" width=157 height=53 border=0 alt="Server for Information Technologies">
</td><td align="right">
<font size="-2">Сервер поддерживается<br><a class="plain" href="http://www.citmgu.ru">Центром Информационных Технологий</a><br>(095) 932-9212, 932-9213, 939-0783<br>E-mail: <a class=noneline href="mailto:info@citmgu.ru?Subject='From page topic CIT FORUM local copy'">info@citforum.ru</a></font>
</td></tr>
</table>
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<font size="-1">Сервер содержит море(!) аналитической информации</font>
</td><td align="right">
<font size="-1">CIT Forum CD-ROM</font>
</td></tr>
</table>
</td></tr>
</table>

<h3 align=center>DRAND48(3C)</h3>
<p align=justify><b>НАЗВАНИЕ</b><br>
drand48, erand48, lrand48, nrand48,  mrand48,  jrand48,
srand48, seed48, lcong48 - генерация равномерно распределенных псевдослучайных чисел
<p><b>СИНТАКСИС</b>
<pre>
	double drand48 ( )
	
	double erand48 (xsubi)
	unsigned short xsubi [3];
	
	long lrand48 ( )
	
	long nrand48 (xsubi)
	unsigned short xsubi [3];
	
	long mrand48 ( )
	
	long jrand48 (xsubi)
	unsigned short xsubi [3];
	
	void srand48 (seedval)
	long seedval;
	
	unsigned short *seed48 (seed16v)
	unsigned short seed16v [3];
	
	void lcong48 (param)
	unsigned short param [7];
</pre>
<p align=justify><b>ОПИСАНИЕ</b><br>
Данное семейство функций порождает псевдослучайные числа с использованием широко известного линейного конгруэнтного алгоритма и 48-битной целой арифметики.
<p align=justify>Функции drand48 и  erand48  возвращают  неотрицательные
вещественные числа двойной точности, равномерно распределенные в интервале [0.0, 1.0).
<p align=justify>Функции lrand48 и  nrand48  возвращают  неотрицательные
целые числа типа long, равномерно распределенные в  интервале [0, 2^31).
<p align=justify>Функции mrand48 и jrand48  возвращают  целые  числа  со
знаком, типа long, равномерно распределенные в интервале [-2^31, 2^31).
<p align=justify>Функции srand48, seed48 и  lcong48  представляют  собой
инициализирующие точки входа, обращение к которым должно предшествовать вызову какой-либо из функций drand48,
lrand48, mrand48. (Хотя это и не рекомендуется,  в  том
случае, когда функции drand48, lrand48,  mrand48  будут
вызваны без предварительного обращения к инициализирующим точкам входа, подстановка постоянных начальных значений, принимаемых по умолчанию, будет произведена  автоматически.) Функции erand48,  nrand48  и  jrand48  не
требуют предварительного обращения  к  инициализирующим
точкам входа.
<p align=justify>Все  программы  работают,  порождая  последовательность
48-битных целых значений X [i] в соответствии с  линейной конгруэнтной формулой
<pre>
	X [n+1] = (a * X [n] + c) mod m           n   0
</pre>
<p align=justify>Параметр m = 2^48 и поэтому используется 48-битная  целая арифметика. Если не было предварительного обращения
к lcong48, для коэффициента a и аддитивной константы  c
будут приняты следующие значения:
<pre>
	a = 0x5DEECE66D = 0273673163155
	c = 0xB = 013
</pre>
<p align=justify>Первым этапом вычисления возвращаемого значения для любой из  функций  drand48,  erand48,  lrand48,  nrand48,
mrand48  или  jrand48 является генерация очередного 48 
битного значения X[i]. Далее из  него  берутся  старшие
биты в количестве, определяемом типом требуемого данного, которые и преобразуются в возвращаемое значение.
<p align=justify>Функции  drand48, lrand48 и mrand48 сохраняют последнее
сгенерированное 48-битное значение X[i]  во  внутреннем
буфере  -  вот  почему они должны быть инициализированы
перед своим вызовом. Для функций же erand48, nrand48  и
jrand48  вызывающая программа должна сама резервировать
память под очередное значение  X[i],  передаваемое  при
вызове  как аргумент. Эти функции инициализации не требуют; вызывающая программа должна просто поместить  желаемое начальное значение X[i] в массив из трех 16-битных  слов  и передать тот как аргумент. Посредством использования  различных  аргументов   функции   erand48,
nrand48  и  jrand48 позволяют различным модулям большой
программы генерировать  несколько  независимых  потоков
псевдослучайных  чисел; другими словами, последовательность чисел в каждом потоке не  зависит  от  того,  как
часто  программа  вызывалась для генерации чисел других
потоков.
<p align=justify>Инициализирующая функция srand48 устанавливает  старшие
32  бита  значения X[i] равными 32-м битам своего аргумента. Независимо от значения старших бит,  младшие  16
бит X[i] устанавливаются равными 0x330E.
<p align=justify>Инициализирующая  функция seed48 устанавливает значение
всех 48 бит X[i] по значению  аргумента  -  массива  из
трех 16-битных слов. Предыдущее значение X[i] копируется  в  48-битный  внутренний буфер, используемый только
функцией seed48. Возвращаемое функцией seed48  значение
представляет собой указатель на этот буфер.  Возвращаемый указатель в большинстве случаев игнорируется, однако он может оказаться полезным при перезапуске программы  с данной точки в будущем. Для этого, используя указатель, следует извлечь и сохранить последнее  значение
X[i],  которое  затем,  при перезапуске, употребить для
повторной инициализации с помощью seed48.
<p align=justify>Инициализирующая функция lcong48 дает пользователю возможность указать начальное значение X [i], значение коэффициента a и аддитивной константы c. В массиве, являющемся ее аргументом, элементы param [0-2] определяют X
[i], элементы param [3-5] - коэффициент a  и,  наконец,
param [6] - 16-битную константу c. После вызова lcong48
восстановить "стандартные" значения  коэффициента  a  и
константы c, описанные выше, можно путем вызова  какой 
либо из функций srand48 или seed48.
<p align=justify><b>ПРИМЕЧАНИЯ </b><br>
Исходный  текст данного семейства функций для мобильной
версии может быть использован даже на  компьютерах,  не
обладающих  арифметикой вещественных чисел. В такой ситуации функций drand48 и erand48 не существует; их  заменяют следующие две функции:
<pre>
	long irand48 (m)
	unsigned short m;
	
	long krand48 (xsubi, m)
	unsigned short xsubi [3], m;
</pre>
<p align=justify>Функции irand48 и  krand48  возвращают  неотрицательные
целые числа типа long, равномерно распределенные в  интервале [0, m-1].
<p><b>СМ. ТАКЖЕ</b><br>
<a href=RAND.htm>rand(3C)</a>.
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/footer0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="right" valign="top" width="33%">
<font size="-2">Comments: <a class="plain" href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM local copy'">info@citmgu.ru</a><br>
Designed by <a class="plain" href="mailto:andrey@novikov.com">Andrey Novikov</a><br>
Copyright &copy; <a class="plain" href="http://www.citmgu.ru/">CIT</a></font>
</td></tr>
</table>
</td></tr>
</table>
</body>
</html>
