<html>
<head>
<title>RCS(1) </title>
		    <style type="text/css">
TH.arial { font-family: Arial, Serif;}
P.topic { font-family: sans-serif;}
A.plain { text-decoration: none;}
A.topic01 { color: #006890;
font-family: sans-serif;
text-decoration: none;}
A.topic02 { color: #099771;
font-family: sans-serif;
text-decoration: none;}
A.topic03 { color: #719709;
font-family: sans-serif;
text-decoration: none;}
A.topic04 { color: #98650A;
font-family: sans-serif;
text-decoration: none;}
A.topic05 { color: #98340A;
font-family: sans-serif;
text-decoration: none;}
A.topic06 { color: #099607;
font-family: sans-serif;
text-decoration: none;}
A.topic07 { color: #9E1215;
font-family: sans-serif;
text-decoration: none;}
A.topic08 { color: #970941;
font-family: sans-serif;
text-decoration: none;}
A.topic09 { color: #950995;
font-family: sans-serif;
text-decoration: none;}
A.topic010 { color: #390A98;
font-family: sans-serif;
text-decoration: none;}
H1 { font-family: sans-serif;}
H2 { font-family: sans-serif;}
H3 { font-family: sans-serif;}
H4 { font-family: sans-serif;}
H5 { font-family: sans-serif;}
H6 { font-family: sans-serif;}
</style>
</head>
<body bgcolor="#FFFFFF" link="#006890" vlink="#003860" alink="#800000" text="#000000">
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/header0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<img src="_pic_/logo.gif" width=157 height=53 border=0 alt="Server for Information Technologies">
</td><td align="right">
<font size="-2">Сервер поддерживается<br><a class="plain" href="http://www.citmgu.ru">Центром Информационных Технологий</a><br>(095) 932-9212, 932-9213, 939-0783<br>E-mail: <a class=noneline href="mailto:info@citmgu.ru?Subject='From page topic CIT FORUM local copy'">info@citforum.ru</a></font>
</td></tr>
</table>
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<font size="-1">Сервер содержит море(!) аналитической информации</font>
</td><td align="right">
<font size="-1">CIT Forum CD-ROM</font>
</td></tr>
</table>
</td></tr>
</table>

<h3 align=center>RCS(1) <br> КОМАНДЫ ПОЛЬЗОВАТЕЛЯ </h3>
<p align=justify><b>НАЗВАНИЕ</b><br>
<p align=justify>rcs - изменение внутренних атрибутов архивного файла
<p><b>СИНТАКСИС</b>
<pre>
	rcs флаги имя-файла ...
</pre>
<p align=justify><b>ОПИСАНИЕ</b><br>
<p align=justify>Команда rcs  создает   новый   архивный   файл   в   системе
отслеживания    версий   RCS   ,   или   изменяет   атрибуты
существующего.  Архивный файл содержит набор версий рабочего
файла,  список лиц имеющих доступ к изменению файла, историю
изменений файла и  некие  внутренние  управляющие  атрибуты.
Пользователь может работать с командой rcs ,  если выполнено
одно из следующих условий:  либо он уже внесен в список  лиц
имеющих  доступ  к  изменению файла,  либо этот список пуст,
либо пользователь является владельцем  файла  или  системным
администратором, либо команда выполняется с флагом -i .
<p align=justify>Полное имя файла, содержащее архивный суффикс, соответствует
архивному файлу,  все прочие считаются рабочими  файлами.  О
соответствии имен файлов, см. <a href=CI.htm>ci(1)</a> . Там же описаны способы
задания номеров версий.
<p align=justify><b>ФЛАГИ</b><br>
<dl>
<dt>-i<dd>
Создает и инициализирует новый архивный файл, не занося
в  него  никаких  версий рабочего файла.  Если не задан
путь к архивному файлу,  она сначала пытается поместить
архив  в подкаталоге RCS ,  затем,  в текущем каталоге.
Если архив уже существует, выдает сообщение об ошибке.
<p><dt>-alogins<dd>
Добавляет имена,  перечисленные в строке  без  пробелов
logins в список лиц имеющих доступ к изменению файла. В
качестве разделителей используются запятые.
<p><dt>-Aoldfile<dd>
Добавляет имена,  перечисленные в  списке  лиц  имеющих
доступ  к  изменению файла oldfile к списку лиц имеющих
доступ к изменению данного файла.
<p><dt>-e[logins]<dd>
Удаляет имена,  перечисленные  в  строке  без  пробелов
logins  из списка лиц имеющих доступ к изменению файла.
В  качестве  разделителей  используются  запятые.  Если
строка   logins  отсутствует,  полностью  очищает  этот
список.
<p><dt>-b[rev]<dd>
Устанавливает номер ветви,  которая будет  использована
по  умолчанию,  равным  rev  .  Если rev опущен,  то по
умолчанию используется  (динамически)  самая  последняя
побочная ветвь версий, отходящая от главной.
<p><dt>-cstring<dd>
Устанавливает префикс     для     комментариев.     При
первоначальной  регистрации  файла  без   инициализации
командой  ci  или  с инициализацией командой rcs -i без
этого флага, RCS определяет способ задания комментариев
по расширению имени рабочего файла.
<p align=justify>флаг сохранен   исключительно   для   совместимости   с
предыдущими версиями,  поскольку при включении  истории
изменений в рабочий файл по ключевому слову $Log$ , RCS
вставляет префикс,  заданный этим ключевым словом,  при
востребовании  из архива (см.  <a href=CO.htm>co(1)</a>).  Однако,  старые
версии RCS используют в таком случае префикс,  заданный
данным   флагом.   Следовательно,  если  Вы  планируете
использовать и старые и новые  версии,  позаботьтесь  о
соответствии  префикса  в строке с $Log$ и префикса для
комментариев.
<p><dt>-ksubst<dd>
Устанавливает правила  подстановки  ключевых  символов.
Возможные правила subst описаны в <a href=CO.htm>co(1)</a>.  Явное задание
флага -k в командах  co,  rcsdiff  и  rcsmerge  подавит
заданное  по умолчанию значение.  Используйте rcs -kv с
осторожностью,  поскольку -kv несовместно с co -l.  Для
восстановления обычных правил подстановки,  используйте
rcs -kkv .
<p><dt>-l[rev]<dd>
Бронирует для пользователя последнюю версию из тех, чей
номер  меньше  или  равен  rev .  Если rev задает номер
ветви,  то последнюю версию на этой ветви из  тех,  чей
номер  меньше  или  равен  rev  .  Если rev опущен,  то
бронируется последняя  версия  ветви,  используемой  по
умолчанию.  Бронирование  необходимо для предотвращения
накладывающихся  друг  на  друга   изменений   вносимых
разными пользователями.  Правило отмены бронирования, в
случае,  если кто-то забронировал файл до Вас такое же,
как и в случае rcs -u (см. ниже).
<p><dt>-u[rev]<dd>
Отменяет бронирование  версии  rev  .  Если  задана  не
версия а ветвь,  то последней версии на данной ветви, а
если   rev   отсутствует,  то  последнее  бронирование,
сделанное   данным   пользователем.   При    нормальных
обстоятельствах,   только  сам  забронировавший  версию
отменяет бронирование. Если это делает кто-то другой из
имеющих на это право, то посылается сообщение об отмене
бронирования по электронной почте. При этом отменяющему
предлагается  приложить  к этому сообщению комментарий,
содержащий   причины    такого    поступка.    Как    и
регистрационный   комментарий,   это  сообщение  должно
оканчиваться  символом  конца  файла,   либо   строкой,
содержащей единственную точку.
<p><dt>-L<dd>
Устанавливает строгий режим бронирования,  что означает
распространение всех ограничений на работу с  файлом  и
на владельца  файла.  Нормальный режим доступа к файлам
которые поддерживаются группой.
<p><dt>-U<dd>
Устанавливает нестрогий  режим  бронирования.  Владелец
файла не   обязан   бронировать   файл   для   внесения
последующих изменений.  Упрощает  работу   с   файлами,
которые поддерживает один человек.  Режим бронирования,
задаваемый по     умолчанию,     задается     системным
администратором, но, как правило, он строгий.
<p><dt>-mrev:msg<dd>
Заменить регистрационную  запись для версии rev строкой
msg .
<p><dt>-M<dd>
Не посылать   сообщение   об    отмене    бронирования.
Предполагается, что этот флаг будут использовать только
программы, уведомляющие об этом  другими  средствами  и
использующие rcs -u как вспомогательную операцию.
<p><dt>-nname[:[rev]]<dd>
Связать символическое имя name с ветвью или версией rev
. Удалить символическое имя name , если отсутствуют и
rev и двоеточие; в ином случае, если имя name связано с
другой версией, выдать сообщение об ошибке. Если rev --
символический номер,   то   подстановка  номера  в  rev
осуществляется до связывания c name . Если rev является
номером ветви,  оканчивающимся  точкой,  то связывается
последняя версия ветви,  двоеточие  без  номера  версии
означает последнюю  версию  на  ветви,  используемой по
умолчанию, обычно на главной. Например,
<pre>
     rcs -nname: RCS/*
</pre>
свяжет с  именем  name  последние  версии  всех  файлов
имеющихся в архивном каталоге. В тоже время, команда
<pre>
     rcs -nname:$ RCS/*
</pre>
свяжет с  именем  name  те  версии файлов,  которые она
определит по  маркерам  в  рабочих  файлах,  а  они  не
обязаны быть последними версиями.
<p><dt>-Nname[:[rev]]<dd>
Действует так  же,  как  и  -n,  но безусловно отменяет
старое значение name, если таковое было задано.
<p><dt>-orange<dd>
Удалить из архива  версии  из  промежутка  range.  Если
range состоит из одной версии, удалить эту версию, если
range является  номером  ветви,  то  удалить  последнюю
версию данной ветви.  Если range имеет вид rev1:rev2 то
удалить  все  версии  начиная  с  rev1  и  кончая  rev2
включительно,  на одной ветвиЖ :rev означает промежуток
от начала соответствующей ветви  до  rev  включительно;
rev:    означает    промежуток    от   rev   до   конца
соответствующей  ветви   включительно.   Ни   одна   из
удаляемых  версий  не  должна  быть  забронирована  или
служить началом побочной ветви.
<p><dt>-q<dd>
Не печатать никаких сообщений.
<p><dt>-I<dd>
Задать диалоговый режим,  даже если ввод осуществляется
не с терминала.
<p><dt>-sstate[:rev]<dd>
Придать версии rev статус state . Если rev задает номер
ветви,  то последней версии на этой ветви из  тех,  чей
номер  меньше  или  равен  rev  .  Если rev опущен,  то
последней версии ветви,  используемой по  умолчанию.  В
качестве  state можно использовать любой идентификатор.
Рекомендуются к использованию: Exp (экспериментальная),
Stab (стабильная),  и Rel (выпуск). По умолчанию статус
Exp.
<p><dt>-t[file]<dd>
Использовать содержимое файла file в качестве  описания
регистрируемого   файла.  Старое  описание  затирается.
Ограничение:  минус не может  быть  первым  символом  в
имени file.  Если имя файла не задано,  подразумевается
стандартный   ввод,   сообщение   с   которого   должно
оканчиваться   символом   конца  файла,  либо  строкой,
содержащей единственную точку.  Выдается приглашение  к
вводу, если возможен диалог, см. -I. Описание требуется
при флаге -i, даже если флаг -t не задан.
<p><dt>-t-string<dd>
То же,  что и предыдущий флаг,  но  описание  задается
в командной строке.
<p><dt>-T<dd>
Сохраняет дату  и  время  последнего изменения рабочего
файла даже если в нем были изменены  значения  ключевых
символов,  если  только  не была удалена версия.  Такое
поведение флага вводит в заблуждению команду <a href=MAKE.htm>make(1)</a> и,
потому необходима   осторожность.   Флаг  -T  позволяет
избежать ненужных построений (компиляций), но она может
подавить их и тогда,  когда изменение идентификационных
маркеров существено для результата построения.
<p><dt>-V<dd>
Посылает номер версии RCS на стандартный вывод.
<p><dt>-Vn<dd>
Имитирует поведение версии  n комплекса программ  RCS .
См. <a href=CO.htm>co(1)</a> .
<p><dt>-xsuffixes<dd>
Задает суффикс,  добавляемый к имени  архивного  файла.
См. <a href=CI.htm>ci(1)</a> .
<p><dt>-zzone<dd>
Присутствует исключительно для совместимости с  другими
командами  RCS  ,  для  которых  задает формат даты при
подстановке ключевых слов в маркеры и часовой пояс  для
флага -ddate .
</dl>
<p align=justify>Для совместимости  с  будущими  версиями   требуется   явное
задание хотя бы одного флага.
<p align=justify><b>СОВМЕСТИМОСТЬ</b><br>
Флаг -brev  порождает архивные файлы,  которые не могут быть
правильно восприняты системой RCS версии 3 или более ранней.
<p align=justify>Флаг  -ksubst (кроме -kkv) порождает архивные файлы, которые
не могут быть правильно восприняты системой RCS версии 4 или
более ранней.
<p align=justify>Для того,  чтобы привести архив в вид,  который  может  быть
правильно восприняты  системой  RCS  версии  n  ,  примените
команду rcs -Vn .
<p align=justify>Система RCS  до  версии  5.5  не  поддерживала  флаг  -x   и
требовала суффикс ,v .
<p><b>ФАЙЛЫ</b><br>
Команда rcs  работает с файлами так же,  как команда <a href=CI.htm>ci(1)</a> ,
но  использует   права   доступа   логического   (effective)
пользователя,   т.е.   права  пользователя,  вызвавшего  эту
команду.  Кроме того,  ей не требуется  право  на  изменение
рабочего файла,  более того,  она открывает рабочий файл для
чтения, только в случае, когда номер версии задан как $ .
<p align=justify><b>ПЕРЕМЕННЫЕ СРЕДЫ</b><br>
<dl><dt> LOGNAME<dd>Имя пользователя. В UNIX задано автоматически, в MS-DOS
требуется задать явно командой
<pre>
     set LOGNAME=имя-пользователя
</pre>
<p><dt> TZ<dd>Часовой  пояс.  В UNIX  задан  автоматически,  в  MS-DOS
требуется задать явно командой set.
<p><dt> RCSINIT<dd>Список флагов используемых со всеми  командами  системы
отслеживания версий RCS. См. <a href=CI.htm>ci(1)</a> .
</dl>
<p align=justify><b>СООБЩЕНИЯ</b><br>
Печатает имя  архивного  файла,  и  номера удаляемой версии.
Возвращает операционной системе  0  тогда  и  только  тогда,
когда все операции завершились успешно.
<p><b>СМ. ТАКЖЕ</b><br>
<a href=RCSINTRO.htm>rcsintro(1)</a>,   <a href=CO.htm>co(1)</a>,    <a href=CI.htm>ci(1)</a>,    <a href=IDENT.htm>ident(1)</a>,    <a href=RCSCLEAN.htm>rcsclean(1)</a>,
<a href=RCSDIFF.htm>rcsdiff(1)</a>, <a href=RCSMERGE.htm>rcsmerge(1)</a>, <a href=RLOG.htm>rlog(1)</a>, rcsfile(5)
<p align=justify><i>Walter F.   Tichy,   RCS--A   System  for  Version  Control,
Software--Practice & Experience 15, 7 (July 1985), 637-654.
<p align=justify>Copyright (C) Walter F. Tichy, Paul Eggert.</i>
<p align=justify><b>ПРОБЛЕМЫ</b><br>
При системном  сбое,  например  вызвавшем перезапуск,  могут
оставаться сигнальные файлы (см.  <a href=CI.htm>ci(1)</a>  ВРЕМЕННЫЕ  ФАЙЛЫ  И
ЛИНКИ),  которые  содержат  информацию  о том,  что в данное
время идет  работа  с  архивным  файлом,  что  не  даст  его
изменить.   Положение  легко  исправить,  удалив  сигнальные
файлы,  имена которых обычно или начинаются с  запятой,  или
заканчиваются на символ подчеркивания.
<p align=justify>Из-за совместимости с предыдущими версиями RCS , в которых в
качестве разделителя использовался минус  вместо  двоеточия,
возникают   проблемы   с   символическими  номерами  версий,
начинающимися с минуса.  Команда rcs -o воспримет минус  как
разделитель,  но  сообщит  о неудачном выборе символического
имени.
<p align=justify>Символические имена не обязаны  указывать  на  хранящиеся  в
архиве версии.  Флаг  -o  не  удалит  символические   имена,
ссылающиеся  на удаленную версию,  и нужно использовать флаг
-n для удаления символического имени версии в явном виде.
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/footer0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="right" valign="top" width="33%">
<font size="-2">Comments: <a class="plain" href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM local copy'">info@citmgu.ru</a><br>
Designed by <a class="plain" href="mailto:andrey@novikov.com">Andrey Novikov</a><br>
Copyright &copy; <a class="plain" href="http://www.citmgu.ru/">CIT</a></font>
</td></tr>
</table>
</td></tr>
</table>
</body>
</html>
