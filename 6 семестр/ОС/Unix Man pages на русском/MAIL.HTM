<html>
<head>
<title>MAIL(1)</title>
		    <style type="text/css">
TH.arial { font-family: Arial, Serif;}
P.topic { font-family: sans-serif;}
A.plain { text-decoration: none;}
A.topic01 { color: #006890;
font-family: sans-serif;
text-decoration: none;}
A.topic02 { color: #099771;
font-family: sans-serif;
text-decoration: none;}
A.topic03 { color: #719709;
font-family: sans-serif;
text-decoration: none;}
A.topic04 { color: #98650A;
font-family: sans-serif;
text-decoration: none;}
A.topic05 { color: #98340A;
font-family: sans-serif;
text-decoration: none;}
A.topic06 { color: #099607;
font-family: sans-serif;
text-decoration: none;}
A.topic07 { color: #9E1215;
font-family: sans-serif;
text-decoration: none;}
A.topic08 { color: #970941;
font-family: sans-serif;
text-decoration: none;}
A.topic09 { color: #950995;
font-family: sans-serif;
text-decoration: none;}
A.topic010 { color: #390A98;
font-family: sans-serif;
text-decoration: none;}
H1 { font-family: sans-serif;}
H2 { font-family: sans-serif;}
H3 { font-family: sans-serif;}
H4 { font-family: sans-serif;}
H5 { font-family: sans-serif;}
H6 { font-family: sans-serif;}
</style>
</head>
<body bgcolor="#FFFFFF" link="#006890" vlink="#003860" alink="#800000" text="#000000">
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/header0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<img src="_pic_/logo.gif" width=157 height=53 border=0 alt="Server for Information Technologies">
</td><td align="right">
<font size="-2">Сервер поддерживается<br><a class="plain" href="http://www.citmgu.ru">Центром Информационных Технологий</a><br>(095) 932-9212, 932-9213, 939-0783<br>E-mail: <a class=noneline href="mailto:info@citmgu.ru?Subject='From page topic CIT FORUM local copy'">info@citforum.ru</a></font>
</td></tr>
</table>
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<font size="-1">Сервер содержит море(!) аналитической информации</font>
</td><td align="right">
<font size="-1">CIT Forum CD-ROM</font>
</td></tr>
</table>
</td></tr>
</table>

<h3 align=center>MAIL(1)</h3>
<p align=justify><b>НАЗВАНИЕ</b><br>
mail - отправка пользователям почты или ее чтение
<p><b>СИНТАКСИС</b>
<pre>
   mail  [-o] [-s] [-w] [-t] адресат ...
   mail  [-e] [-h] [-p] [-q] [-r] [-f файл] [-F адресат ...]
</pre>
<p align=justify><b>ОПИСАНИЕ</b>
<p align=justify><b>Отправка почты </b><br>
На отправку почты воздействуют следующие опции:
<dl>
<dt>-o <dd>  Подавить оптимизацию адреса.
<p><dt>-s <dd>  Не вставлять перевод строки в начало отправляемого
письма (см. ниже ПРЕДОСТЕРЕЖЕНИЯ).
<p><dt>-w  <dd> Отправить письмо удаленному пользователю без  ожидания завершения пересылки.
<p><dt>-t  <dd> Добавить к письму строку "To: адресаты", что  позволяет получателю знать всех адресатов письма.
</dl>
<p align=justify>Адресат обычно задается как  входное  имя  пользователя
[см. <a href=LOGIN.htm>login(1)</a>]. Если адресат задан, предполагается, что
выполняется отправка почты (за исключением случая опции
-F). При этом текст отправляемого сообщения читается со
стандартного ввода, пока либо не  будет  введен  символ
конца файла (CTRL+D), либо  не  будет  введена  строка,
состоящая из единственной точки. Затем команда mail добавляет письмо к почтовому файлу каждого из  адресатов.
Письмо - это сообщение, перед  которым  стоит  почтовый
штемпель. Почтовый штемпель состоит из одной  или  нескольких строк "From ...", за которыми идет пустая строка (если только не была использована опция -s).
<p align=justify>Если будет обнаружено, что письмо не может быть доставлено, то оно вернется к отправителю с диагностикой места и причины неудачи. Если во время ввода сообщения нажать клавишу прерывания, сообщение  будет  сохранено  в
файле dead.letter, что позволяет в будущем отредактировать и отправить его. Этот файл обновляется каждый раз,
когда он необходим.
<p align=justify>Если локальная система входит в стандартную  коммуникационную сеть (см. команды подраздела 1C), можно  отправить почту пользователю удаленной системы, адрес  которого задается обычным для сети образом:
<pre>
	имя_системы![имя_системы! ...]имя_пользователя
</pre>
<p align=justify><b>Чтение почты </b><br>
На чтение почты воздействуют следующие опции:
<dl>
<dt>-e  <dd> Установка кода завершения без вывода почты.  Нулевое значение кода завершения означает, что у пользователя есть почта, в противном случае  возвращается 1.
<p><dt>-h <dd>  Показ окна с заголовками писем, а не  текстов  писем. Затем выдается приглашение "?".
<p><dt>-p <dd>  Вывод текстов всех писем без промежуточных приглашений.
<p><dt>-q  <dd> Завершить работу команды mail после получения прерывания. В противном  случае  прерывание  вызывает
лишь прекращение вывода текста письма.
<p><dt>-r <dd>  Выводить тексты писем в порядке поступления.
<p><dt>-f файл <dd>     Использовать файл вместо подразумеваемого почтового файла.
<p><dt>-F адресат <dd>     Вызывает переадресацию последующей почты указанному адресату. Опция допустима, только когда у пользователя нет почты.
</dl>
<p align=justify>По умолчанию команда mail выводит тексты писем в порядке, обратном к порядку их поступления, то есть  сначала
выдается самая свежая почта. После выполнения очередного действия происходит либо выход из  mail,  если  было
обработано последнее письмо, либо выдается  приглашение
(символ "?") и со стандартного ввода  читается  строка,
определяющая следующую команду. Для обработки  и  просмотра почты доступны следующие команды:
<dl>
<dt>перевод_строки, + или n <dd>     Перейти к следующему письму.
<p><dt>d или dp <dd>     Удалить письмо и перейти к  следующему.  Как  и  в
двух  последующих  командах,  собственно  удаление
произойдет лишь в конце сеанса работы с mail.
<p><dt>d n <dd> Удалить письмо с номером n (письма нумеруются с 1,
в порядке поступления). Не переходить к следующему
письму.
<p><dt>dq  <dd> Удалить письмо и выйти из mail.
<p><dt>h  <dd>  Показать заголовки писем, расположенных в  окрестности текущего.
<p><dt>h n  <dd> Показать заголовок письма с номером n.
<p><dt>h a <dd> Показать заголовки всех писем  в  пользовательском
почтовом файле.
<p><dt>h d <dd> Показать заголовки писем, отмеченных на удаление.
<p><dt>p  <dd>  Снова показать текущее письмо.
<p><dt>-   <dd> Показать предыдущее письмо.
<p><dt>a  <dd>  Показать письмо, пришедшее во время сеанса  работы
с mail.
<p><dt>n  <dd>  Показать письмо с  номером n.
<p><dt>r [адресат ...] <dd>     Ответить отправителю письма  и  другим  адресатам,
затем удалить сообщение.
<p><dt>s [файл ...] <dd>     Сохранить письмо в указанных файлах (по  умолчанию
используется файл $HOME/mbox). Из почтового  файла
письмо удаляется.
<p><dt>y [файл ...] <dd>     То же, что и предыдущая команда.
<p><dt>u [n] Снять  отметку  об  удалении с письма номер n (по
 умолчанию используется номер последнего прочитан ного).
<p><dt>w [файл ...] <dd>     Сохранить в указанных файлах только сообщение (без
почтового  штемпеля).  По  умолчанию  используется
файл $HOME/mbox.
<p><dt>m [адресат ...] <dd>     Переслать текущее письмо указанным адресатам.
<p><dt>q или CTRL+D <dd>     Оставить в почтовом файле только неудаленные письма и завершить сеанс работы с командой mail.
<p><dt>x  <dd>  Оставить почтовый файл неизменным и завершить  сеанс работы с командой mail.
<p><dt>! команда <dd>     Выполнить одну команду shell'а.
<p><dt>?  <dd>  Показать перечень команд.
</dl>
<p align=justify>При входе в систему пользователю сообщается  о  наличии
для него почты, если она есть. Также сообщается о появлении новой почты во время  сеанса  работы  с  командой
mail.
<p align=justify>Для видоизменения работы команды  mail  существует  два
способа обращения с почтовым файлом.  Чтобы  обеспечить
необходимый уровень секретности,  следует  дать  прочим
пользователям право либо на чтение/запись этого  файла,
либо только на чтение, либо не дать никаких прав.  Если
режим доступа к почтовому файлу отличается от стандартного, файл будет сохранен, даже если станет пустым.
<p align=justify>Если первой строкой почтового файла является
<pre>
	Forward to адресат
</pre>
<p align=justify>приходящая текущему пользователю  почта  будет  пересылаться адресату. В этом случае к почтовому штемпелю будет добавлена строка "Forwarded by  ...".  Эта  возможность полезна в рамках сети, чтобы  собирать  почту  на
одной машине и иметь информацию о том, какие  письма  и
откуда пересылались. Установление и отмена режима переадресации производится посредством опции -F. Можно  задать список адресатов, которым будет пересылаться  почта. Элементы списка разделяются запятыми или пробелами,
весь список заключается в кавычки. Длина  списка  -  до
1024 байт. Напомним, что в общем случае адрес  содержит
один или несколько префиксов имя_системы!. Пример:
<pre>
	mail -F "guest sys6!guest"
</pre>
Для отмены режима  переадресации  адресат  должен  быть
пустым:
<pre>
	mail -F ""
</pre>
<p align=justify>Чтобы переадресация работала правильно, идентификатором
группы, владеющей почтовым файлом, должен быть mail,  а
члены группы должны иметь право на чтение и запись.
<p><b>ФАЙЛЫ</b>
<pre>
   /etc/passwd             Файл паролей  используется  для
		  	   идентификации  отправителей   и
		  	   адресатов.
   /usr/mail/пользователь  Почтовый файл.
   $HOME/mbox              Подразумеваемый файл для сохра			   нения писем.
   $MAIL                   Полное имя почтового файла.
   /tmp/ma*                Временные файлы.
   /usr/mail/:saved/*      Временные файлы.
   /usr/mail/*.lock        Блокировочные файлы.
   dead.letter             Прерванное письмо.
</pre>
<p><b>СМ. ТАКЖЕ</b><br>
<a href=LOGIN.htm>login(1)</a>, <a href=MAILX.htm>mailx(1)</a>, <a href=RMAIL.htm>rmail(1)</a>, <a href=WRITE~1.htm>write(1)</a>.
<p align=justify><b>ПРЕДОСТЕРЕЖЕНИЯ</b><br>
В результате нескольких переадресаций может образоваться цикл. При попадании почты в цикл будет выдано  сообщение
<pre>
	mail: Unbounded forwarding
</pre>
<p align=justify>Опцию -s следует использовать осторожно,  так  как  без
промежуточного перевода  строки  сообщение  может  быть
проинтерпретировано как часть почтового  штемпеля,  что
нарушит работу команды mail. Для совместимости с командой <a href=MAILX.htm>mailx(1)</a> сделано так, что если первая строка  сообщения - "Subject:...", то пустая строка не  вставляется
вне зависимости от использования опции -s.
<p align=justify><b>СЮРПРИЗЫ</b><br>
Иногда команда  mail  не  может  удалить  блокировочный
файл.
<p align=justify>После возникновения прерывания следующее сообщение  может не напечататься; команда p исправляет ситуацию.
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/footer0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="right" valign="top" width="33%">
<font size="-2">Comments: <a class="plain" href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM local copy'">info@citmgu.ru</a><br>
Designed by <a class="plain" href="mailto:andrey@novikov.com">Andrey Novikov</a><br>
Copyright &copy; <a class="plain" href="http://www.citmgu.ru/">CIT</a></font>
</td></tr>
</table>
</td></tr>
</table>
</body>
</html>
