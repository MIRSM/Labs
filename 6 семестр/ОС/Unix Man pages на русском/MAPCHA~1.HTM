<html>
<head>
<title>MAPCHAN(7)</title>
		    <style type="text/css">
TH.arial { font-family: Arial, Serif;}
P.topic { font-family: sans-serif;}
A.plain { text-decoration: none;}
A.topic01 { color: #006890;
font-family: sans-serif;
text-decoration: none;}
A.topic02 { color: #099771;
font-family: sans-serif;
text-decoration: none;}
A.topic03 { color: #719709;
font-family: sans-serif;
text-decoration: none;}
A.topic04 { color: #98650A;
font-family: sans-serif;
text-decoration: none;}
A.topic05 { color: #98340A;
font-family: sans-serif;
text-decoration: none;}
A.topic06 { color: #099607;
font-family: sans-serif;
text-decoration: none;}
A.topic07 { color: #9E1215;
font-family: sans-serif;
text-decoration: none;}
A.topic08 { color: #970941;
font-family: sans-serif;
text-decoration: none;}
A.topic09 { color: #950995;
font-family: sans-serif;
text-decoration: none;}
A.topic010 { color: #390A98;
font-family: sans-serif;
text-decoration: none;}
H1 { font-family: sans-serif;}
H2 { font-family: sans-serif;}
H3 { font-family: sans-serif;}
H4 { font-family: sans-serif;}
H5 { font-family: sans-serif;}
H6 { font-family: sans-serif;}
</style>
</head>
<body bgcolor="#FFFFFF" link="#006890" vlink="#003860" alink="#800000" text="#000000">
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/header0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<img src="_pic_/logo.gif" width=157 height=53 border=0 alt="Server for Information Technologies">
</td><td align="right">
<font size="-2">Сервер поддерживается<br><a class="plain" href="http://www.citmgu.ru">Центром Информационных Технологий</a><br>(095) 932-9212, 932-9213, 939-0783<br>E-mail: <a class=noneline href="mailto:info@citmgu.ru?Subject='From page topic CIT FORUM local copy'">info@citforum.ru</a></font>
</td></tr>
</table>
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<font size="-1">Сервер содержит море(!) аналитической информации</font>
</td><td align="right">
<font size="-1">CIT Forum CD-ROM</font>
</td></tr>
</table>
</td></tr>
</table>

<h3 align=center>MAPCHAN(7)</h3>
<p align=justify><b>НАЗВАНИЕ</b><br>
mapchan - Конфигурирует при отображении tty устройства.
<p><b>СИНТАКСИС</b>
<pre>
     mapchan [-ans][-f mapfile][channels...]
     mapchan [[-o][-d]][channel]
</pre>
<p align=justify><b>ОПИСАНИЕ</b><br>
mapchan конфигурирует при отображении информации ввода  и
вывода XENIX.  Утилита mapchan предназначена для пользователей
устройств, которые используют языки,  отличные от  английского
(наборы символов, отличных от 7-байтовых ASCII).
<p align=justify>
mapchan переводит коды, присылаемые перефирийными устройствами, такими как терминалы, во внутренний набор символов,  используемых  системой XENIX. mapchan может также отобразить коды
во внутреннем наборе символов в другие коды для вывода на переферийные устройства (такие  как терминалы, принтеры,  управляющие  экраны  и  т. п.). Отметим, что конфигурация клавиатуры РС
выполняется с помощью утилиты <a href=MAPKEY.htm>mapkey(7)</a>.
<p align=justify>
mapchan имеет ряд применений:  отобразить channel (-a или
-s); не отображать channel (-n и произвольно-а); или  выводить
таблицу отображения на канал (не обязательно -o, -d, channels).
<p align=justify>
При отсутствии  параметров  mapchan  выводит  таблицу  на
пользовательский channel.  Выведенная таблица подходит  в  качестве ввода для mapchan.
<p>Параметры таковы:
<table>
<tr valign=top><th>-а<td>если   других   параметров   нет,   устанавливает  все
channels, даваемые в файле по умолчанию (/etc/default/mapchan)
с определенной таблицей. Когда используется с -n, он ссылается
на все channels, даваемые в файле по умолчанию. Суперпользователь выводит или не выводит все channels,  другие пользователи
выводят только собственные channels. -a не может использоваться с -d, -o или -s.</tr>
<tr valign=top><th>-d<td>выводит  таблицу  отображения,  которая  находится в
употреблении, на заданное устройство, channel,  с  тем  чтобы
вывести  ее  в  десятичном  виде вместо шестнадцатиричного по
умолчанию. Версия ASCII выводится стандартным  выводом.  Этот
вывод  подходит в качестве входного файла mapchan для другого
channel. Выводятся отображенные значения. Идентичные пары  не
являются выводом. -d нельзя использовать с -a, -f, -n, -o или
-s.</tr>
<tr valign=top><th>-f<td>вызывает   отображение   текущего   channel  или списка
channels c mapfile. -f нельзя использовать с -d, -n, -s или -о.</tr>
<tr valign=top><th>-n<td>осуществляется нулевое отображение.  Все коды являются
вводными и выводными,  такими как они и получены.  Отображение
выключается для  пользовательского  channel  или  для   других
channels, если таковые заданы. Если -а используется с -n отображение отключается на всех channels,  даваемых по  умолчанию.
Отображение по  умолчанию  для  всех channels,  если не задана
другая конфигурация.  -n не может использоваться с -d,  -f, -o
или -s.</tr>
<tr valign=top><th>-d<td>выводит  таблицу  отображения,  которая  находится в
употреблении, на заданное устройство, channel,  с  тем  чтобы
вывести  ее  в восьмеричном виде вместо шестнадцатиричного по
умолчанию. Версия ASCII выводится стандартным  выводом.  Этот
вывод  подходит  в качестве входного файла для другого порта.
Выводятся отображенные значения. Идентичные пары не  являются
выводом. -d нельзя использовать с -a, -d, -f, -n или -s.</tr>
<tr valign=top><th>-s<td>устанавливает  текущий channel пользователя с заданным
mapfile в файл по умолчанию.  -s не может быть использована ни
с каким другим параметром.</tr>
</table>
<p align=justify>Пользователь должен  владеть  channel,   чтобы отображать
его. Суперпользователь может отображать любой channel.   Чтобы
отобразить на channel,  требуется разрешение на считывание или
запись.
<p align=justify>
Каждое устройство tty  (дисплейный  адаптер,  видеомонитор
компьютера,  параллельный  порт,  последовательный порт и т.д.)
может иметь отличную от других таблицу. Когда XENIX первый  раз
загружается, отображение отключается на всех channels.
<p align=justify>
Как правило,   mapchan  вызывается в файле /etc/rc.  Этот
файл выполняется,  когда система входит в  мультипользовательский режим и устанавливает по умолчанию отображение для системы. Пользователи могут вызывать mapchan,  когда  они  начинают
работу включением  управляющей  строки  mapchan в своих файлах
.profile или .login.  Кроме того,  пользователь может повторно
отобразить свой channel в любой момент с помщью вызова mapchan
из управляющей строки.  channels,  не распечатанные в файле по
умолчанию, не отображаются автоматически.  При выходе channels
не изменяются.  Какие бы отображения не имелись для последнего
пользователя, они   остаются  действительными  для  следующего
пользователя, если только  те  не  меняли  свои  .profile  или
.login.
<p align=justify>
Например, файл  по  умолчанию  /etc/default/mapchan может
содержать:
<pre>
     tty02        ibm
     tty1a
     tty2a        wy60.ger
     lp           ibm
</pre>
<p align=justify>Каталог по    умолчанию,     содержащий    mapfiles, - 
/usr/lib/mapchan. Каталог  по  умолчанию,   содержащий   файлы
channel, -  /dev.  Полные составные имена могут использоваться
для channels или mapfiles.  Если channel не имеет входа,   или
входное имя  -  пустое,   нет  возможности отображать на такой
channel. Дополнительные channels,  добавляемые к системе (например, добавление  последовательного или параллельного порта),
не вводится автоматически в файл по умолчанию  mapchan.   Если
требуется ограничение, системный администратор должен осуществить ввод.
<p align=justify>
Формат mapfiles документируется в ручной странице mapchan
(3).
<p align=justify><i>Использование отображенного канала</i><br>
Входная  информация представляется 7- или 8-битовыми кодами, посылаемыми переферийным устройством. Устройство может  использовать "мертвые" или "составные" ключи для выработки кодов.
Если устройство не имеет мертвых или составных ключей, эти ключи могут воспроизводиться mapchan.
<p align=justify>
Символы, отображенные один к одному, выводятся, когда нажимается клавиша, и отображенные значения передаются в ядро.
<p align=justify>
Некоторые ключи обозначаются как мертвые в mapfile.  Последовательности мертвых ключей - два набора  ключей,   которые
производят одно  отображенное  значение,  передаваемое в ядро.
Мертвый ключ,  как правило,  представляет собой диакритический
символ, а  второй  ключ представляет собой изменяющуюся букву.
Например, последовательность 'e может отображаться значением
0хЕ9, и выводиться как е.
<p align=justify>
Один ключ обозначается как сложный ключ в mapfile. Последовательности составных ключей состоят из трех наборов ключей,
которые вырабатывают одно отображенное значение,  передаваемое
в ядро.  Составной ключ,  как правило, представляет собой редко
используемый символ  или комбинацию ctrl-letter.  Второй ключ,
как правило,  является изменненой буквой.  Третий  ключ  может
быть другим объединяемым символом или диакритическим символом.
Например, если '@' - составной ключ,  последовательность @ c O
может отображаться ASCII значением 0хА9 и выводиться как
<p align=justify>
Символы всегда проходят через входную таблицу, даже когда
они являются частью мертвой или составной  последовательности.
Затем символ проверяется на внутреннее значение.  Значение может быть также отражено при выводе.  Это следует  иметь  ввиду
при подготовке файлов отображения.
<p>
Следующие условия вызовут ошибку при вводе:
<p align=justify>
нераспознанная (неопределенная  в  mapfile)   мертвая или
составная последовательность,  повторно запускающая  составную
последовательность до окончания,  с помощью нажатия составного
ключа в середине последовательности.  Это ошибка, но инициируется новая составная последовательность.
<p align=justify>
Если mapfile содержит ключевое слово beep,  при любом перечисленном выше условии звенит звонок. В любом случае символы
не выводятся на экран и не передаются в ядро.
<p align=justify>
Чтобы последовательности символов осуществляли управление
терминалом (двигали курсор и т.д.),  а не печатали символы  на
экране, mapchan допускает,  чтобы последовательности символов,
определялись как особые последовательности,   не  передаваемые
через обычные процедуры отображения. Могут быть определены два
раздела, один для входного - клавиатурного, а другой для выходного - экранного представлений.
<p align=justify><i>Наборы символов</i><br>
Внутренний набор символов,  использующийся в XENIX, определяется используемым mapfiles.  По умолчанию - это набор символов ISO 8859/1,  который также известен как dpANS  Х3.4.2  и
ISO?TC97/SC2. Он поддерживает большую часть латинского алфавита и может представлять большинство европейских языков.
<p align=justify>
Ряд частичных файлов отображения обеспечивается в качестве
примеров.  Они должны быть изменены для использования с особыми
переферийными устройствами. Посмотрите в руководстве вашей  аппаратурой,  какие  коды нужны для вывода желаемых символов. Два
поля отображений предоставляются для использования с устройства
управления: /usr/lib/mapchan/ibm для системы со стандартным для
РС набором символов ROM и /usr/lib/mapchan/iso для систем с необязательным ISO 8859/1набором символов ROM.
<p align=justify>
Надо заботиться о том, что присваивания <a href=STTY~1.htm>stty(1)</a> правильны
для 8-битовых терминалов.  /etc/gettydefs файл может требовать
модификации, допускающей вводы с правильными присваиваниями.
<p align=justify>
7-битовый U.S.ASCII  (ANSI X3.4)  следует применять,  если нет возможности отобразить на 2 channel.
<p><b>ФАЙЛЫ</b>
<pre>
     /etc/default/mapchan
     /usr/lib/mapchan/*
</pre>
<p><b>СМ. ТАКЖЕ</b><br>
asccii(7), keyboard(HW), <a href=LP.htm>lp(1)</a>, ipadmin(8), mapchan(3),
<a href=MAPKEY.htm>mapkey(7)</a>, parallel(HW),  screen(HW),  serial(HW),  setkey(7),
<a href=TRCHAN.htm>trchan(7)</a>, <a href=TTY~1.htm>tty(7)</a>
<p align=justify><b>ПРИМЕЧАНИЯ</b><br>
Некоторые клавиатуры, несовместимые с выпускаемыми в  Соединенных  Штатах,  и дисплеи не содержат символов, используемых
широко в интерпретаторе shell команд XENIX и программного языка
Си. Не рекомендуется использовать эти  устройства  для  заданий
системного администратора.
<p align=justify>
Принтеры  могут отображаться, только при выводе, и каждому
могут быть посланы 8-битовые коды или одно или  многосимвольные
строки, используемые mapchan. Командные файлы интерфейса спулера принтера могут быть использованы для изменения таблицы выводов  на  принтере,  когда требуются различные таблицы ( так при
изменении печатных колес выводятся различные наборы  символов).
Смотри <a href=LP.htm>lp(1)</a> и <a href=LPADMI~1.htm>lpadmin(8)</a> для информации на устанавливающихся
и управляющих командных файлах.
<p align=justify>
Не  все  терминалы  или принтеры могут выдавать на дисплей
все символы, которые могут быть представлены, используя  данную
утилиту.  Ссылайтесь  на руководство по аппаратному обеспечению
устройства для получения информации о возможностях внешнего устройства.
<p align=justify><b>ПРЕДУПРЕЖДЕНИЕ</b><br>
Использование mapfiles, который определяет набор символов
на канал или набор, отличный от 8-битового ISO 8859, поставляемого по  умолчанию,   может   оказывать   странное   влияние.
Особенно важно сохранить 7-битовую ASCII часть набора символов
(смотри <a href=ASCII~1.htm>ascii(7)</a>). Утилиты XENIX и много применений присваивают себе эти значения.
<p align=justify>
Средства, передаваемые  между  компьютерами  с различными
отображениями наборов внешних кодов, могут не быть переносимыми, как  бы  ни  было представлено отображение на блочном устройстве, таком как лента и дискета. Однако, trchan с соответственным mapfile  могут использоваться при "переводе" из одного
набора символов в другие.
<p align=justify>
Не надо устанавливать ISTRIP (смотри <a href=STTY~1.htm>stty(1)</a>),  когда используется mapchan.  Этот параметр выкидывает восьмой бит перед тем, как отображение появляется.
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/footer0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="right" valign="top" width="33%">
<font size="-2">Comments: <a class="plain" href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM local copy'">info@citmgu.ru</a><br>
Designed by <a class="plain" href="mailto:andrey@novikov.com">Andrey Novikov</a><br>
Copyright &copy; <a class="plain" href="http://www.citmgu.ru/">CIT</a></font>
</td></tr>
</table>
</td></tr>
</table>
</body>
</html>
