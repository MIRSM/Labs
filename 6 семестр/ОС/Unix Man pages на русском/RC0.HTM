<html>
<head>
<title>RC0(1M) </title>
		    <style type="text/css">
TH.arial { font-family: Arial, Serif;}
P.topic { font-family: sans-serif;}
A.plain { text-decoration: none;}
A.topic01 { color: #006890;
font-family: sans-serif;
text-decoration: none;}
A.topic02 { color: #099771;
font-family: sans-serif;
text-decoration: none;}
A.topic03 { color: #719709;
font-family: sans-serif;
text-decoration: none;}
A.topic04 { color: #98650A;
font-family: sans-serif;
text-decoration: none;}
A.topic05 { color: #98340A;
font-family: sans-serif;
text-decoration: none;}
A.topic06 { color: #099607;
font-family: sans-serif;
text-decoration: none;}
A.topic07 { color: #9E1215;
font-family: sans-serif;
text-decoration: none;}
A.topic08 { color: #970941;
font-family: sans-serif;
text-decoration: none;}
A.topic09 { color: #950995;
font-family: sans-serif;
text-decoration: none;}
A.topic010 { color: #390A98;
font-family: sans-serif;
text-decoration: none;}
H1 { font-family: sans-serif;}
H2 { font-family: sans-serif;}
H3 { font-family: sans-serif;}
H4 { font-family: sans-serif;}
H5 { font-family: sans-serif;}
H6 { font-family: sans-serif;}
</style>
</head>
<body bgcolor="#FFFFFF" link="#006890" vlink="#003860" alink="#800000" text="#000000">
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/header0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<img src="_pic_/logo.gif" width=157 height=53 border=0 alt="Server for Information Technologies">
</td><td align="right">
<font size="-2">Сервер поддерживается<br><a class="plain" href="http://www.citmgu.ru">Центром Информационных Технологий</a><br>(095) 932-9212, 932-9213, 939-0783<br>E-mail: <a class=noneline href="mailto:info@citmgu.ru?Subject='From page topic CIT FORUM local copy'">info@citforum.ru</a></font>
</td></tr>
</table>
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<font size="-1">Сервер содержит море(!) аналитической информации</font>
</td><td align="right">
<font size="-1">CIT Forum CD-ROM</font>
</td></tr>
</table>
</td></tr>
</table>

<h3 align=center>RC0(1M) </h3>
<p align=justify><b>НАЗВАНИЕ</b><br>
rc0 - процедура остановки системы
<p><b>СИНТАКСИС</b>
<pre>
      /etc/rc0
</pre>
<p align=justify><b>ОПИСАНИЕ</b><br>
Процедура /etc/rc0 вызывается при изменениях уровня выполнения системы, предполагающих ее  деактивацию  перед
выключением.
<p align=justify>Вообще говоря, имеется три уровня, требующих выполнения
процедуры rc0: уровень 0 (остановка) уровень 5 (передача управления программам в ПЗУ) уровень 6  (перезагрузка).  Например,  строка файла /etc/inittab может выглядеть так:
<pre>
     r0:0:wait:/etc/rc0 1> /dev/console 0>&1
</pre>
<p align=justify>Некоторые из действий, производимых процедурой rc0, выполняются файлами из каталога /etc/shutdown.d (что  является  атавизмом)  и файлами, начинающимися с буквы K,
из каталога /etc/rc0.d. Эти файлы выполняются  в  алфавитном  порядке  [подробнее см. пункт ФАЙЛЫ в <a href=RC2.htm>rc2(1M)</a>],
деактивируя соответствующие системные службы. Таким образом, способ остановки определяется комбинацией команд
процедуры rc0 и файлов из каталога /etc/rc0.d.
<p align=justify>Рекомендуется, чтобы процедура rc0 выполняла  следующую
последовательность действий:
<ol>
<li> Прекращение работы системных служб и демонов
<p align=justify>     Различные службы (планировщик принтеров, демон регистрации ошибок и т.п.) нормально завершаются.
<p align=justify>     Если в систему добавляются новые службы, требующие
     аккуратного завершения при  остановке  системы,  в
     каталог  /etc/rc0.d следует добавить соответствующие файлы.
<p align=justify><li>  Завершение процессов
<p align=justify>     Всем  выполняемым  процессам посылается сигнал завершения SIGTERM, что дает им возможность аккуратно терминироваться.
<p align=justify><li> Уничтожение процессов
<p align=justify>     После  паузы  всем оставшимся процессам посылается
     сигнал уничтожения  SIGKILL  [посредством  команды
     <a href=KILLALL.htm>killall(1M)</a>],  перехватить или проигнорировать который нельзя.
<p align=justify>     В результате предшествующих действий активными остаются  лишь специальные системные процессы 0 и 1,
     а также процесс, связанный с /etc/rc0.
<p align=justify><li> Размонтирование всех файловых систем
<p align=justify>     Остается смонтированной только корневая (/) файловая система.
</ol>
<p align=justify>Дальнейшие действия определяются уровнем выполнения (0,
5  или  6) и содержимым файла /etc/inittab. Если, как в
случае уровня 0, в файле не  определены  дополнительные
действия,  операционная система ничего не делает  и нет
возможности получить ее отклик. Все, что можно  сделать
- это  либо  выключить питание, либо вызвать аппаратный
монитор.
<p align=justify>Процедура  rc0 может быть выполнена только суперпользователем.
<p><b>СМ. ТАКЖЕ</b><br>
<a href=KILLALL.htm>killall(1M)</a>, <a href=MOUNTALL.htm>mountall(1M)</a>, <a href=RC2.htm>rc2(1M)</a>, <a href=SHUTDO~1.htm>shutdown(1M)</a>.<br>
<a href=KILL.htm>kill(1)</a> в Справочнике пользователя.<br>
<a href=KILL~1.htm>kill(2)</a>, <a href=INITTAB.htm>inittab(4)</a> в Справочнике программиста.
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/footer0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="right" valign="top" width="33%">
<font size="-2">Comments: <a class="plain" href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM local copy'">info@citmgu.ru</a><br>
Designed by <a class="plain" href="mailto:andrey@novikov.com">Andrey Novikov</a><br>
Copyright &copy; <a class="plain" href="http://www.citmgu.ru/">CIT</a></font>
</td></tr>
</table>
</td></tr>
</table>
</body>
</html>
