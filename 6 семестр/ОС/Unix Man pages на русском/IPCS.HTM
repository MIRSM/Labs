<html>
<head>
<title>IPCS(1)</title>
		    <style type="text/css">
TH.arial { font-family: Arial, Serif;}
P.topic { font-family: sans-serif;}
A.plain { text-decoration: none;}
A.topic01 { color: #006890;
font-family: sans-serif;
text-decoration: none;}
A.topic02 { color: #099771;
font-family: sans-serif;
text-decoration: none;}
A.topic03 { color: #719709;
font-family: sans-serif;
text-decoration: none;}
A.topic04 { color: #98650A;
font-family: sans-serif;
text-decoration: none;}
A.topic05 { color: #98340A;
font-family: sans-serif;
text-decoration: none;}
A.topic06 { color: #099607;
font-family: sans-serif;
text-decoration: none;}
A.topic07 { color: #9E1215;
font-family: sans-serif;
text-decoration: none;}
A.topic08 { color: #970941;
font-family: sans-serif;
text-decoration: none;}
A.topic09 { color: #950995;
font-family: sans-serif;
text-decoration: none;}
A.topic010 { color: #390A98;
font-family: sans-serif;
text-decoration: none;}
H1 { font-family: sans-serif;}
H2 { font-family: sans-serif;}
H3 { font-family: sans-serif;}
H4 { font-family: sans-serif;}
H5 { font-family: sans-serif;}
H6 { font-family: sans-serif;}
</style>
</head>
<body bgcolor="#FFFFFF" link="#006890" vlink="#003860" alink="#800000" text="#000000">
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/header0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<img src="_pic_/logo.gif" width=157 height=53 border=0 alt="Server for Information Technologies">
</td><td align="right">
<font size="-2">Сервер поддерживается<br><a class="plain" href="http://www.citmgu.ru">Центром Информационных Технологий</a><br>(095) 932-9212, 932-9213, 939-0783<br>E-mail: <a class=noneline href="mailto:info@citmgu.ru?Subject='From page topic CIT FORUM local copy'">info@citforum.ru</a></font>
</td></tr>
</table>
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<font size="-1">Сервер содержит море(!) аналитической информации</font>
</td><td align="right">
<font size="-1">CIT Forum CD-ROM</font>
</td></tr>
</table>
</td></tr>
</table>

<h3 align=center>IPCS(1)</h3>
<p align=justify><b>НАЗВАНИЕ</b><br>
ipcs  -  выдача  информации о состоянии средств межпроцессной связи
<p><b>СИНТАКСИС</b>
<pre>
   ipcs  [-q] [-m] [-s] [-b] [-c] [-o] [-p] [-t] [-a] [-C образ_памяти]
    [-N файл_с_таблицей_имен]
</pre>
<p align=justify><b>ОПИСАНИЕ</b><br>
Команда ipcs выдает информацию об используемых в данный
момент средствах межпроцессной  связи.  При  отсутствии
опций выдается краткая информация об  очередях  сообщений, разделяемых сегментах памяти и  семафорах.  Управлять выводом можно с помощью следующих опций:
<table>
<tr valign=top><th>-q <td>  Выводить информацию об используемых очередях сообщений.
<tr valign=top><th>-m  <td> Выводить информацию  об  используемых  разделяемых
сегментах памяти.
<tr valign=top><th>-s  <td> Выводить информацию об используемых семафорах.
</table>
<p align=justify>Если ни одна из этих опций не задана, выдается информация обо всех средствах  межпроцессной  связи.  Характер
выводимой информации определяется следующими опциями:
<dl>
<dt>-b  <dd> Выводить информацию о наибольшем допустимом размере. Для очередей сообщений это максимальное  число
байт в сообщениях; для разделяемой памяти - размер
сегментов; для семафоров - число семафоров в  каждом множестве. Смысл информации в  каждой  колонке
выдачи раз ясняется ниже.
<p><dt>-c  <dd> Выводить входное и групповое имя создателя.
<p><dt>-o <dd>  Выводить информацию об использовании. Для очередей
сообщений - число сообщений в очереди и общее число байт в сообщениях; для разделяемых    сегментов
- число процессов, присоединенных к сегментам.
<p><dt>-p <dd>  Выводить числовую информацию о процессах:  идентификатор последнего процесса, пославшего  сообщение
и идентификатор последнего  процесса,  получившего
сообщение - для очередей сообщений;  идентификатор
создавшего  процесса  и  идентификатор  последнего
процесса, присоединившего или отсоединившего  сегмент - для разделяемых сегментов памяти.
<p><dt>-t <dd>  Выводить информацию о времени: время последней управляющей операции, изменившей права доступа - для
всех средств связи между процессами. Время  вызова
операций:  для  очередей  сообщений  -   последней
msgsnd и последней msgrcv; для разделяемых сегментов памяти - последней shmat  и  последней  shmdt;
для семафоров - последней <a href=SEMOP.htm>semop(2)</a>.
<p><dt>-a  <dd> Использовать все опции, выводящие информацию. (Это
просто краткая запись для -bcopt).
<p><dt>-C образ_памяти <dd>
Использовать  файл   образ_памяти   вместо   файла
/dev/kmem.
<p><dt>-N файл_с_таблицей_имен <dd>
Использовать файл_с_таблицей_имен вместо  подразумеваемого файла /unix.
</dl>
<p align=justify>Ниже раз ясняется смысл информации в каждой колонке выдачи. Буквы в скобках после заголовка колонки обозначают опции, вызывающие появление данной колонки; отсутствие букв означает, что колонка присутствует всегда. Заметим, что данные опции определяют лишь вид информации,
предоставляемой для каждого средства связи  между  процессами, а не само средство.
<dl>
<dt>T <dd>   Тип средства связи:
<pre>
q  очередь сообщений;
m  разделяемый сегмент памяти;
s  семафор.
</pre>
<p><dt>ID <dd>  Идентификатор элемента средства связи (идентификатор очереди сообщений и т.д.).
<p><dt>KEY <dd> Ключ, использованный в качестве аргумента  функций
msgget, semget или shmget при  создании  элемента.
(Замечание: при удалении сегмента разделяемой  памяти ключ сегмента изменяется  на  IPC_PRIVATE  до
тех пор, пока все присоединенные процессы не отсоединят его.)
<p><dt>MODE <dd>
Режимы доступа и флаги  элемента  средства  связи.
Режим состоит  из  11  символов,  интерпретируемых
следующим образом.
<p align=justify>Первые два символа:
<pre>
R  если процесс ждет по msgrcv;
S  если процесс ждет по msgsnd;
D  если соответствующий разделяемый сегмент памяти
	удален. Он исчезнет после того,  как  последний
	присоединенный процесс отсоединит сегмент;
C  если соответствующий разделяемый сегмент памяти
	необходимо очистить при выполнении первого при	соединения;
-  если соответствующий специальный флаг не  уста	новлен.
</pre>
Следующие 9 символов интерпретируются как 3 набора
по 3 бита в каждом. Первый набор  описывает  права
владельца; второй - права других членов группы  по
отношению к элементу средства межпроцессной связи;
последний - права всех остальных.  Внутри  каждого
набора первый символ обозначает право  на  чтение,
второй - право на запись или  изменение  элемента,
последний символ в настоящее время не  используется. Права обозначаются следующим образом:
<pre>
r  если есть право на чтение;
w  если есть право на запись;
a  если есть право на изменение;
-  если данного права нет.
</pre>
<p><dt>OWNER <dd>
Входное имя владельца элемента средства связи.
<p><dt>GROUP <dd>
Групповое имя владельца элемента средства связи.
<p><dt>CREATOR (a,c)<dd> 
Входное имя создателя элемента средства связи.
<p><dt>CGROUP (a,c) <dd>
Групповое имя создателя элемента средства связи.
<p><dt>CBYTES (a,o) <dd>
Число байт в сообщениях, находящихся в данный  момент в соответствующей очереди.
<p><dt>QNUM (a,o) <dd>
Число сообщений, находящихся в данный момент в соответствующей очереди.
<p><dt>QBYTES (a,b) <dd>
Максимально допустимое количество байт в сообщениях из соответствующей очереди.
<p><dt>LSPID (a,p) <dd>
Идентификатор последнего процесса, пославшего  сообщение в соответствующую очередь.
<p><dt>LRPID (a,p) <dd>
Идентификатор последнего процесса, получившего сообщение из соответствующей очереди.
<p><dt>STIME (a,t) <dd>
Время последней посылки сообщения в  соответствующую очередь.
<p><dt>RTIME (a,t) <dd>
Время последнего получения сообщения из соответствующей очереди.
<p><dt>CTIME (a,t) <dd>
Время, когда соответствующий  элемент  был  создан
или изменен.
<p><dt>NATTCH (a,o) <dd>     Количество процессов, присоединенных к  соответствующему разделяемому сегменту памяти.
<p><dt>SEGSZ (a,b) <dd>
Размер разделяемого сегмента памяти.
<p><dt>CPID (a,p) <dd>
Идентификатор  процесса,  создавшего   разделяемый
сегмент памяти.
<p><dt>LPID (a,p) <dd>
Идентификатор последнего процесса, присоединившего
или отсоединившего разделяемый сегмент памяти.
<p><dt>ATIME (a,t) <dd>
Время, когда было завершено последнее  присоединение к разделяемому сегменту памяти.
<p><dt>DTIME (a,t) <dd>
Время, когда было завершено последнее отсоединение
разделяемого сегмента памяти.
<p><dt>NSEMS (a,b) <dd>
Число семафоров в множестве,  связанном  с  данным
элементом.
<p><dt>OTIME (a,t) <dd>
Время завершения последней семафорной  операции  с
множеством, связанным с данным элементом.
</dl>
<p><b>ФАЙЛЫ</b>
<pre>
   /unix           Файл с системной таблицей имен.
   /dev/kmem       Память.
   /etc/passwd     Имена пользователей.
   /etc/group      Имена групп.
</pre>
<p><b>СМ. ТАКЖЕ</b><br>
<a href=IPCRM.htm>ipcrm(1)</a>.<br>
<a href=MSGOP.htm>msgop(2)</a>, <a href=SEMOP.htm>semop(2)</a>, <a href=SHMOP.htm>shmop(2)</a> в Справочнике  программиста.
<p align=justify><b>СЮРПРИЗЫ</b><br>
Во  время  выполнения  команды  ipcs  состояние средств
межпроцессной связи может  измениться;  таким  образом,
ipcs дает лишь хорошее приближение к действительности.
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/footer0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="right" valign="top" width="33%">
<font size="-2">Comments: <a class="plain" href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM local copy'">info@citmgu.ru</a><br>
Designed by <a class="plain" href="mailto:andrey@novikov.com">Andrey Novikov</a><br>
Copyright &copy; <a class="plain" href="http://www.citmgu.ru/">CIT</a></font>
</td></tr>
</table>
</td></tr>
</table>
</body>
</html>
