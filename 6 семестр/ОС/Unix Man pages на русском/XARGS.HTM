<html>
<head>
<title>XARGS(1)   </title>
		    <style type="text/css">
TH.arial { font-family: Arial, Serif;}
P.topic { font-family: sans-serif;}
A.plain { text-decoration: none;}
A.topic01 { color: #006890;
font-family: sans-serif;
text-decoration: none;}
A.topic02 { color: #099771;
font-family: sans-serif;
text-decoration: none;}
A.topic03 { color: #719709;
font-family: sans-serif;
text-decoration: none;}
A.topic04 { color: #98650A;
font-family: sans-serif;
text-decoration: none;}
A.topic05 { color: #98340A;
font-family: sans-serif;
text-decoration: none;}
A.topic06 { color: #099607;
font-family: sans-serif;
text-decoration: none;}
A.topic07 { color: #9E1215;
font-family: sans-serif;
text-decoration: none;}
A.topic08 { color: #970941;
font-family: sans-serif;
text-decoration: none;}
A.topic09 { color: #950995;
font-family: sans-serif;
text-decoration: none;}
A.topic010 { color: #390A98;
font-family: sans-serif;
text-decoration: none;}
H1 { font-family: sans-serif;}
H2 { font-family: sans-serif;}
H3 { font-family: sans-serif;}
H4 { font-family: sans-serif;}
H5 { font-family: sans-serif;}
H6 { font-family: sans-serif;}
</style>
</head>
<body bgcolor="#FFFFFF" link="#006890" vlink="#003860" alink="#800000" text="#000000">
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/header0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<img src="_pic_/logo.gif" width=157 height=53 border=0 alt="Server for Information Technologies">
</td><td align="right">
<font size="-2">Сервер поддерживается<br><a class="plain" href="http://www.citmgu.ru">Центром Информационных Технологий</a><br>(095) 932-9212, 932-9213, 939-0783<br>E-mail: <a class=noneline href="mailto:info@citmgu.ru?Subject='From page topic CIT FORUM local copy'">info@citforum.ru</a></font>
</td></tr>
</table>
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<font size="-1">Сервер содержит море(!) аналитической информации</font>
</td><td align="right">
<font size="-1">CIT Forum CD-ROM</font>
</td></tr>
</table>
</td></tr>
</table>

<h3 align=center>XARGS(1)   </h3>
<p align=justify><b>НАЗВАНИЕ</b><br>
xargs - формирование списка аргументов и выполнение команды
<p><b>СИНТАКСИС</b>
<pre>
	xargs  [-lчисло] [-iзам_цеп] [-nчисло] [-t] [-p] [-x] [-sразмер]
	       [-e[лконф_цеп]] [команда [начальный_аргумент ...]]
</pre>
<p align=justify><b>ОПИСАНИЕ</b><br>
Команда xargs об единяет зафиксированный набор заданных
в  командной строке начальных_аргументов с аргументами,
прочитанными со стандартного ввода, и выполняет указанную команду один или несколько раз.  Число  аргументов,
которые должны быть прочитаны для каждого вызова команды,  и  способ,  которым они об единяются, определяются
заданными опциями.
<p align=justify>Xargs использует значение  переменной  окружения  $PATH
для поиска команды, которая может быть файлом  shell'а.
Если команда опущена, используется /bin/echo.
<p align=justify>Аргументы, прочитанные со  стандартного  ввода,  -  это
непрерывные цепочки  символов,  разделенные  одним  или
несколькими пробелами, символами табуляции или  переводами строки; пустые строки игнорируются. Чтобы включить
в аргумент пробелы и табуляции, их надо выделить символами \ или кавычками; символы,  заключенные  в  кавычки
(одинарные или двойные) воспринимаются буквально;  сами
кавычки удаляются. Вне цепочек в кавычках обратная наклонная черта (\) вместе со следующим символом обозначает соответствующий управляющий символ.
<p align=justify>Конструирование каждого списка аргументов начинается  с
начальных_аргументов, за ними следует  несколько  аргументов со стандартного ввода (есть исключение: см.  опцию -i). Опции -i, -l и -n определяют, как выбирать аргументы для каждого вызова команды. Когда  ни  одна  из
этих опций не указана, за начальными_аргументами следует несколько аргументов, прочитанных  подряд  со  стандартного ввода до заполнения внутреннего буфера;  затем
выполняется команда с накопленными аргументами.  Данный
процесс повторяется до тех пор, пока все  аргументы  не
будут исчерпаны. Если указаны  взаимоисключающие  опции
(например, одновременно заданы опции -l и -n),  берется
во внимание последняя.
<p align=justify>Опциям команды xargs приписан следующий смысл:
<dl>
<dt>-lчисло <dd>
Выполнять  команду  для каждой группы из заданного
числа непустых строк  аргументов,  прочитанных  со
стандартного  ввода. Последний вызов команды может
быть с меньшим числом строк аргументов. Считается,
что строка заканчивается первым встретившимся символом перевода строки, если только  перед  ним  не
стоит  пробел или символ табуляции; пробел/табуляция в конце сигнализируют о том, что следующая непустая строка является продолжением  данной.  Если
число  опущено,  оно  считается равным 1. Опция -l
включает опцию -x.
<p><dt>-iзам_цеп <dd>
Режим  вставки:  команда  выполняется  для  каждой
строки стандартного ввода, причем вся строка рассматривается как один аргумент  и  подставляется  в
начальные_аргументы вместо каждого  вхождения  цепочки символов зам_цеп. Допускается не более 5 начальных_аргументов, содержащих одно или  несколько
вхождений зам_цеп. Пробелы и  табуляции  в  начале
вводимых строк отбрасываются. Сформированные аргументы не могут быть длиннее 255 символов. Если цепочка  зам_цеп  не  задана, она полагается  равной
{ }. Опция -i включает опцию -x.
<p><dt>-nчисло <dd>
Выполнить команду, используя максимально возможное
количество аргументов, прочитанных со стандартного
ввода, но не более заданного числа. Будет  использовано меньше аргументов, если их общая длина превышает  размер  (см.  ниже опцию -s), или если для
последнего вызова их осталось меньше, чем заданное
число. Если указана также опция -x, каждая  группа
из указанного числа аргументов должны укладываться
в  ограничение  размера,  иначе  выполнение  xargs
прекращается.
<p><dt>-t <dd>  Режим трассировки: команда  и  каждый  построенный
список аргументов перед  выполнением  заносятся  в
стандартный протокол.
<p><dt>-p  <dd> Режим с приглашением: xargs перед  каждым  вызовом
команды запрашивает подтверждение. Включается  режим трассировки (-t), за счет чего печатается  вызов команды, который должен быть  выполнен,  а  за
ним - приглашение ?.... Ответ y (за которым  может
идти что угодно) приводит  к  выполнению  команды;
при каком-либо другом ответе, включая возврат  каретки, данный вызов команды игнорируется.
<p><dt>-x  <dd> Завершить выполнение, если очередной список  аргументов оказался длиннее, чем размер (в  символах).
Опция -x включается опциями -i и -l. Если ни  одна
из опций -i, -l или -n  не  указана,  общая  длина
всех аргументов должна укладываться в  ограничение
размера.
<p><dt>-sразмер <dd>
Максимальный общий  размер  (в  символах)  каждого
списка аргументов установить равным заданному размеру.  Размер должен быть положительным числом, не
превосходящим 470 (подразумеваемое значение).  При
выборе  размера  следует  учитывать, что к каждому
аргументу добавляется по одному символу; кроме того, запоминается число символов в имени команды.
<p><dt>-e[лконф_цеп] <dd>
Цепочка символов лконф_цеп считается признаком логического конца файла. Если опция -e  не  указана,
признаком конца считается подчеркивание (_). Опция
-e без лконф_цеп аннулирует возможность устанавливать логический  конец  файла  (подчеркивание  при
этом рассматривается как обычный символ).  Команда
xargs читает стандартный ввод до тех пор, пока  не
дойдет до конца  файла  или  не  встретит  цепочку
лконф_цеп.
</dl>
<p align=justify>Выполнение программы xargs прекращается, если она получает от команды код завершения -1 или если  команда  не
может быть выполнена. Если команда - это shell-программа, она должна явно выполнять exit [см. <a href=SH.htm>sh(1)</a>] с  соответствующим аргументом, чтобы избежать случайного возврата кода -1.
<p align=justify><b>ПРИМЕРЫ</b><br>
<ol>
<li> Следующая shell-процедура пересылает  все  файлы  из
каталога  $1 в каталог $2 и сообщает о каждой пересылке
перед тем, как ее выполнить:
<pre>
	ls $1 | xargs  -i -t mv $1/{} $2/{}
</pre>
<li> Следующая команда об единяет вывод команд, заключенных в скобки, в одну строку, которая затем  добавляется
в конец файла log:
<pre>
	(logname; date; echo $0 $*) | xargs  >>log
</pre>
<li> Пользователя спрашивают, какие файлы из текущего каталога  должны  быть  занесены  в архив. При выполнении
первой команды (см. ниже) файлы заносятся в архив  arch
по  одному; при выполнении второй команды в архив заносится сразу много файлов.
<pre>
	ls | xargs  -p -l ar r arch
	ls | xargs  -p -l | xargs ar r arch
</pre>
<li> Следующая shell-процедура применяет команду  <a href=DIFF.htm>diff(1)</a>
к последовательным парам своих аргументов.
<pre>
	echo $* | xargs  -n2 diff
</pre>
</ol>
<p><b>СМ. ТАКЖЕ</b><br>
<a href=SH.htm>sh(1)</a>.
<p align=justify><b>ДИАГНОСТИКА</b><br>
Не требует пояснений
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/footer0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="right" valign="top" width="33%">
<font size="-2">Comments: <a class="plain" href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM local copy'">info@citmgu.ru</a><br>
Designed by <a class="plain" href="mailto:andrey@novikov.com">Andrey Novikov</a><br>
Copyright &copy; <a class="plain" href="http://www.citmgu.ru/">CIT</a></font>
</td></tr>
</table>
</td></tr>
</table>
</body>
</html>
