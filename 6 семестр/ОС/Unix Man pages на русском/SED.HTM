<html>
<head>
<title>SED(1)</title>
		    <style type="text/css">
TH.arial { font-family: Arial, Serif;}
P.topic { font-family: sans-serif;}
A.plain { text-decoration: none;}
A.topic01 { color: #006890;
font-family: sans-serif;
text-decoration: none;}
A.topic02 { color: #099771;
font-family: sans-serif;
text-decoration: none;}
A.topic03 { color: #719709;
font-family: sans-serif;
text-decoration: none;}
A.topic04 { color: #98650A;
font-family: sans-serif;
text-decoration: none;}
A.topic05 { color: #98340A;
font-family: sans-serif;
text-decoration: none;}
A.topic06 { color: #099607;
font-family: sans-serif;
text-decoration: none;}
A.topic07 { color: #9E1215;
font-family: sans-serif;
text-decoration: none;}
A.topic08 { color: #970941;
font-family: sans-serif;
text-decoration: none;}
A.topic09 { color: #950995;
font-family: sans-serif;
text-decoration: none;}
A.topic010 { color: #390A98;
font-family: sans-serif;
text-decoration: none;}
H1 { font-family: sans-serif;}
H2 { font-family: sans-serif;}
H3 { font-family: sans-serif;}
H4 { font-family: sans-serif;}
H5 { font-family: sans-serif;}
H6 { font-family: sans-serif;}
</style>
</head>
<body bgcolor="#FFFFFF" link="#006890" vlink="#003860" alink="#800000" text="#000000">
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/header0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<img src="_pic_/logo.gif" width=157 height=53 border=0 alt="Server for Information Technologies">
</td><td align="right">
<font size="-2">Сервер поддерживается<br><a class="plain" href="http://www.citmgu.ru">Центром Информационных Технологий</a><br>(095) 932-9212, 932-9213, 939-0783<br>E-mail: <a class=noneline href="mailto:info@citmgu.ru?Subject='From page topic CIT FORUM local copy'">info@citforum.ru</a></font>
</td></tr>
</table>
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<font size="-1">Сервер содержит море(!) аналитической информации</font>
</td><td align="right">
<font size="-1">CIT Forum CD-ROM</font>
</td></tr>
</table>
</td></tr>
</table>

<h3 align=center>SED(1)</h3>
<p align=justify><b>НАЗВАНИЕ</b><br>
sed - пакетный редактор
<p><b>СИНТАКСИС</b>
<pre>
	sed  [-n] [-e сценарий] [-f с_файл] ... [файл ...]
</pre>
<p align=justify><b>ОПИСАНИЕ</b><br>
Sed  копирует указанные файлы (по умолчанию - стандартный ввод), на стандартный вывод, редактируя их в  соответствии  с командами сценария. Опция -f приводит к тому, что сценарий берется из с_файла, этих  опций  может
быть  несколько.  Если  присутствует только опция -e, а
опции -f отсутствуют, флаг -e можно опустить. Опция  -n
подавляет  вывод,  выполняемый  по  умолчанию. Сценарий
состоит из редактирующих команд  (каждая  на  отдельной
строке), имеющих следующий формат:
<p align=justify>	[адрес [, адрес]] функция [аргумент ...]
<p align=justify>В нормальном режиме sed циклически выполняет  следующие
действия:
<ol>
<li> Копирует входную строку в буфер  (в  случае,  если
там ничего не осталось от предыдущей команды D).
<li> Применяет к  буферу  последовательно  все  команды
сценария, адреса в которых позволяют их применить.
<li> Копирует буфер на стандартный вывод (если не  указана опция -n) и очищает буфер.
</ol>
<p align=justify>Некоторые команды используют хранилище, чтобы запомнить
весь буфер или его часть для  последующего  использования.
<p align=justify>Адрес - это либо  десятичное  число,  означающее  номер
входной строки в совокупности входных файлов,  либо  $,
означающий последнюю входную строку,  либо  контекстный
адрес, то есть /регулярное_выражение/ в стиле редактора
<a href=ED.htm>ed(1)</a> со следующими модификациями:
<ol>
<li> В контекстном адресе конструкция  \?регулярное_выражение?,  где  ?  -  любой  символ,  эквивалентна
конструкции  /регулярное_выражение/.  Например,  в
контекстном адресе \xabc\xdefx  второй x  означает
сам себя,  поэтому  значением  выражения  является
abcxdef.
<li> Управляющая  последовательность  \n  соответствует
символу перевода строки, который включается в  буфер.
<li> Точка . соответствует любому символу,  кроме  последнего перевода строки в буфере.
<li> Командная строка без адреса применима к любому буферу.
<li> Командная строка с одним адресом применима к буферу с соответствующим адресом.
<li> Командная строка с двумя адресами применима к  буферам с адресами в диапазоне от первого до второго
включительно (если второй адрес  является  числом,
которое не превосходит  номера  строки,  выбранной
первой, обрабатывается только одна строка).  Затем
процесс повторяется, начиная с первого адреса.
</ol>
<p align=justify>С помощью функции отрицания ! (см. ниже) команды редак-
тирования могут быть применены к буферу, не попадающему
в указанный диапазон адресов.
<p align=justify>В следующем списке функций в скобках указывается макси-
мальное число допустимых адресов для каждой функции.
<p align=justify>Аргумент  текст  состоит  из одной или более строк. Все
строки, кроме последней, заканчиваются на \, чтобы  экранировать  символ  перевода строки. Символы \ в тексте
трактуются так же, как в  заменяющей  цепочке  символов
команды s, и могут использоваться для экранирования начальных пробелов и табуляций, которые обычно из командной  строки удаляются. Аргументы ч_файл и з_файл должны
быть последними в строке, перед ними должен быть  ровно
один  пробел.  Все  з_файлы создаются до начала работы.
Может быть до 10 различных з_файлов.
<table>
<tr valign=top><th>(1)a\ <td>
текст Добавить. Вывести текст перед  чтением  следующей
входной строки.
<tr valign=top><th>(2)b метка <td>
Перейти к команде :, содержащей метку. Если метка
пуста, перейти на конец сценария.
<tr valign=top><th>(2)c\ <td>
текст Заменить. Удалить содержимое буфера. При 0 или  1
адресе или в конце 2-адресного диапазона  вывести
текст. Начать новый цикл.
<tr valign=top><th>(2)d <td> Удалить содержимое буфера. Начать новый цикл.
<tr valign=top><th>(2)D <td> Удалить начало буфера, до первого перевода  стро-
ки. Начать новый цикл.
<tr valign=top><th>(2)g <td> Заменить содержимое буфера содержимым хранилища.
<tr valign=top><th>(2)G <td> Добавить к содержимому буфера содержимое хранили-
ща.
<tr valign=top><th>(2)h <td> Заменить содержимое хранилища содержимым буфера.
<tr valign=top><th>(2)H <td> Добавить к содержимому хранилища содержимое буфе-
ра.
<tr valign=top><th>(1)i\<td> 
текст Вставить. Вывести текст.
<tr valign=top><th>(2)l <td> Вывести буфер, заменяя непечатные символы на пары
символов ASCII и разбивая длинные строки.
<tr valign=top><th>(2)n <td> Скопировать буфер на стандартный вывод.  Заменить
содержимое буфера на следующую входную строку.
<tr valign=top><th>(2)N <td> Добавить к буферу следующую входную строку с сох-
ранением символа перевода строки. (Текущий  номер
строки изменяется).
<tr valign=top><th>(2)p <td> Скопировать буфер на  стандартный  вывод.
<tr valign=top><th>(2)P <td> Скопировать начальный сегмент буфера (до  первого
перевода строки) на стандартный вывод.
<tr valign=top><th>(1)q <td> Выйти. Перейти на конец сценария. Нового цикла не
начинать.
<tr valign=top><th>(2)r ч_файл <td>
Прочитать содержимое ч_файла.  Поместить  его  на
стандартный вывод перед чтением следующей входной
строки.
</table>
<dl><dt><b>(2)s/регулярное_выражение/замена/флаги </b><dd>
Подставить замену вместо фрагментов буфера, отождествленных  с  регулярным_выражением.  Вместо  /
можно использовать любой  символ.  Детали  см.  в
<a href=ED.htm>ed(1)</a>. Флаги могут быть опущены или иметь следующие значения:
<table>
<tr valign=top><th>g <td> Заменить все вхождения  регулярного_выражения,
   а не только первое.
<tr valign=top><th>p <td> Если замена произошла, вывести содержимое  буфера.
<tr valign=top><th>w з_файл <td>
   Если замена произошла, добавить содержимое буфера к з_файлу.
</table>
</dl>
<table>
<tr valign=top><th>(2)t метка <td>
Проверить. Перейти к команде :, содержащей метку,
если со времени последнего чтения входной  строки
или последнего выполнения команды t в буфере  выполнялись подстановки. Если метка пуста,  перейти
на конец сценария.
<tr valign=top><th>(2)w з_файл <td>
Записать. Добавить содержимое буфера к з_файлу.
<tr valign=top><th>(2)x <td> Обменять содержимое буфера и хранилища.
</table>
<dl><dt><b>(2)y/цепочка1/цепочка2/ </b><dd>
Заменить все символы буфера, содержащиеся  в  цепочке1, на соответствующие символы цепочки2. Длины цепочек должны совпадать.
</dl>
<table>
<tr valign=top><th>(2)! функция <td>
Отрицание. Применить функцию  (или  группу,  если
функция начинается с {) только к строкам, которые
не соответстуют адресам.
<tr valign=top><th>(0): метка <td>
Не делает ничего. Содержит лишь метку, на которую
может быть осуществлен переход командами t или b.
<tr valign=top><th>(1)= <td> Вывести в качестве отдельной строки номер текущей
строки.
<tr valign=top><th>(2){ <td> Выполнить следующие команды, вплоть до соответст-
вующего символа }.
<tr valign=top><th>(0) <td>  Пустая команда.
</table>
<p><b>СМ. ТАКЖЕ</b><br>
<a href=AWK.htm>awk(1)</a>, <a href=ED.htm>ed(1)</a>, <a href=GREP.htm>grep(1)</a>.
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/footer0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="right" valign="top" width="33%">
<font size="-2">Comments: <a class="plain" href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM local copy'">info@citmgu.ru</a><br>
Designed by <a class="plain" href="mailto:andrey@novikov.com">Andrey Novikov</a><br>
Copyright &copy; <a class="plain" href="http://www.citmgu.ru/">CIT</a></font>
</td></tr>
</table>
</td></tr>
</table>
</body>
</html>
