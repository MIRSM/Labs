<html>
<head>
<title>LDOPEN(3X)</title>
		    <style type="text/css">
TH.arial { font-family: Arial, Serif;}
P.topic { font-family: sans-serif;}
A.plain { text-decoration: none;}
A.topic01 { color: #006890;
font-family: sans-serif;
text-decoration: none;}
A.topic02 { color: #099771;
font-family: sans-serif;
text-decoration: none;}
A.topic03 { color: #719709;
font-family: sans-serif;
text-decoration: none;}
A.topic04 { color: #98650A;
font-family: sans-serif;
text-decoration: none;}
A.topic05 { color: #98340A;
font-family: sans-serif;
text-decoration: none;}
A.topic06 { color: #099607;
font-family: sans-serif;
text-decoration: none;}
A.topic07 { color: #9E1215;
font-family: sans-serif;
text-decoration: none;}
A.topic08 { color: #970941;
font-family: sans-serif;
text-decoration: none;}
A.topic09 { color: #950995;
font-family: sans-serif;
text-decoration: none;}
A.topic010 { color: #390A98;
font-family: sans-serif;
text-decoration: none;}
H1 { font-family: sans-serif;}
H2 { font-family: sans-serif;}
H3 { font-family: sans-serif;}
H4 { font-family: sans-serif;}
H5 { font-family: sans-serif;}
H6 { font-family: sans-serif;}
</style>
</head>
<body bgcolor="#FFFFFF" link="#006890" vlink="#003860" alink="#800000" text="#000000">
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/header0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<img src="_pic_/logo.gif" width=157 height=53 border=0 alt="Server for Information Technologies">
</td><td align="right">
<font size="-2">Сервер поддерживается<br><a class="plain" href="http://www.citmgu.ru">Центром Информационных Технологий</a><br>(095) 932-9212, 932-9213, 939-0783<br>E-mail: <a class=noneline href="mailto:info@citmgu.ru?Subject='From page topic CIT FORUM local copy'">info@citforum.ru</a></font>
</td></tr>
</table>
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<font size="-1">Сервер содержит море(!) аналитической информации</font>
</td><td align="right">
<font size="-1">CIT Forum CD-ROM</font>
</td></tr>
</table>
</td></tr>
</table>

<h3 align=center>LDOPEN(3X)</h3>
<p align=justify><b>НАЗВАНИЕ</b><br>
ldopen, ldaopen - открыть объектный файл обычного  формата на чтение
<p><b>СИНТАКСИС</b>
<pre>
	#include &lt;stdio.h>
	#include &lt;filehdr.h>
	#include &lt;ldfcn.h>
	
	LDFILE *ldopen (filename, ldptr)
	char *filename;
	LDFILE *ldptr;
	
	LDFILE *ldaopen (filename, oldptr)
	char *filename;
	LDFILE *oldptr;
</pre>
<p align=justify><b>ОПИСАНИЕ</b><br>
Функции ldopen и <a href=LDCLOSE.htm>ldclose(3X)</a> обеспечивают унифицированный доступ как к отдельным объектным файлам,  так  и  к
объектным файлам, входящим в состав архивов. С  помощью
этих функций архив объектных файлов может быть  обработан так, как если бы он был последовательностью отдельных объектных файлов обычного формата.
<p align=justify>Если аргумент ldptr имеет значение NULL, функция ldopen
открывает файл  filename,  размещает  и  инициализирует
структуру LDFILE и возвращает указатель на эту структуру.
<p align=justify>Если  значение  ldptr  соответствует  открытому файлу и
TYPE (ldptr) является магическим числом архивного  файла, ldopen инициализирует стуктуру LDFILE для обработки
следующего элемента архива filename.
<p align=justify>Функции ldopen и <a href=LDCLOSE.htm>ldclose(3X)</a> предназначены для совместной  работы. Ldclose возвращает значение FAILURE только
в том случае, когда TYPE  (ldptr)  является  магическим
числом архива и в архиве еще есть необработанные файлы.
В  этом единственном случае можно вызывать ldopen с текущим значением ldptr. Во всех других случаях, в  частности,  когда  открывается файл с новым именем, следует
вызывать ldopen с аргументом ldptr, равным NULL.
<p align=justify>Схема использования ldopen и <a href=LDCLOSE.htm>ldclose(3X)</a> такова:
<pre>
	/* Для каждого из обрабатываемых файлов */
	     
	ldptr = NULL;
	do {
	  if ((ldptr = ldopen (filename, ldpr)) == NULL) {
	    /* Проверить магическое число */
	    /* Обработать файл */
	  }
	} while (ldclose (ldptr) == FAILURE);
</pre>
<p align=justify>Функция  ldaopen служит для повторного открытия объектного файла. Если  значение  oldptr   отлично  от  NULL,
ldaopen заново открывает файл с именем filename, порождает новую структуру LDFILE, копируя из структуры, указанной  в oldptr, поля TYPE, OFFSET и HEADER, и возвращает указатель на  новую  структуру.  Старый  указатель
oldptr и новый указатель могут быть использованы одновременно и независимо для чтения разных частей объектного файла. Например, один из указателей может последовательно продвигаться по информации о настройке ссылок, а
другой - по элементам таблицы имен.
<p align=justify>Функции ldopen и ldaopen открывают файл на чтение.  Обе
функции возвращают NULL, если файл filename открыть  не
удается, или если под структуру LDFILE не хватает памяти. Успешное открытие  не  гарантирует,  что  указанный
файл является объектным.
<p align=justify>При редактировании связей вызывающей программы  следует
подключить библиотеку программ доступа к объектным файлам libld.a.
<p><b>СМ. ТАКЖЕ</b><br>
<a href=FOPEN.htm>fopen(3S)</a>, <a href=LDCLOSE.htm>ldclose(3X)</a>, <a href=LDFCN.htm>ldfcn(4)</a>.
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/footer0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="right" valign="top" width="33%">
<font size="-2">Comments: <a class="plain" href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM local copy'">info@citmgu.ru</a><br>
Designed by <a class="plain" href="mailto:andrey@novikov.com">Andrey Novikov</a><br>
Copyright &copy; <a class="plain" href="http://www.citmgu.ru/">CIT</a></font>
</td></tr>
</table>
</td></tr>
</table>
</body>
</html>
