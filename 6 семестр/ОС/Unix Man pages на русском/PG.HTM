<html>
<head>
<title>PG(1) </title>
		    <style type="text/css">
TH.arial { font-family: Arial, Serif;}
P.topic { font-family: sans-serif;}
A.plain { text-decoration: none;}
A.topic01 { color: #006890;
font-family: sans-serif;
text-decoration: none;}
A.topic02 { color: #099771;
font-family: sans-serif;
text-decoration: none;}
A.topic03 { color: #719709;
font-family: sans-serif;
text-decoration: none;}
A.topic04 { color: #98650A;
font-family: sans-serif;
text-decoration: none;}
A.topic05 { color: #98340A;
font-family: sans-serif;
text-decoration: none;}
A.topic06 { color: #099607;
font-family: sans-serif;
text-decoration: none;}
A.topic07 { color: #9E1215;
font-family: sans-serif;
text-decoration: none;}
A.topic08 { color: #970941;
font-family: sans-serif;
text-decoration: none;}
A.topic09 { color: #950995;
font-family: sans-serif;
text-decoration: none;}
A.topic010 { color: #390A98;
font-family: sans-serif;
text-decoration: none;}
H1 { font-family: sans-serif;}
H2 { font-family: sans-serif;}
H3 { font-family: sans-serif;}
H4 { font-family: sans-serif;}
H5 { font-family: sans-serif;}
H6 { font-family: sans-serif;}
</style>
</head>
<body bgcolor="#FFFFFF" link="#006890" vlink="#003860" alink="#800000" text="#000000">
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/header0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<img src="_pic_/logo.gif" width=157 height=53 border=0 alt="Server for Information Technologies">
</td><td align="right">
<font size="-2">Сервер поддерживается<br><a class="plain" href="http://www.citmgu.ru">Центром Информационных Технологий</a><br>(095) 932-9212, 932-9213, 939-0783<br>E-mail: <a class=noneline href="mailto:info@citmgu.ru?Subject='From page topic CIT FORUM local copy'">info@citforum.ru</a></font>
</td></tr>
</table>
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<font size="-1">Сервер содержит море(!) аналитической информации</font>
</td><td align="right">
<font size="-1">CIT Forum CD-ROM</font>
</td></tr>
</table>
</td></tr>
</table>

<h3 align=center>PG(1) </h3>
<p align=justify><b>НАЗВАНИЕ</b><br>
pg - фильтр для просмотра файлов на экране
<p><b>СИНТАКСИС</b>
<pre>
	pg  [-число] [-p пригл] [-c] [-e] [-f] [-n] [-s] [+номер_строки]
	    [+/шаблон/] [файл ...]
</pre>
<p align=justify><b>ОПИСАНИЕ</b><br>
Команда pg позволяет  просматривать  файлы  страницами,
равными по размеру экрану. Если имена файлов не  заданы
или задан  символ  -,  то  просматривается  стандартный
ввод. После вывода очередной страницы следует приглашение. Если пользователь нажмет клавишу возврата каретки,
то будет выведена очередная страница; остальные возможности перечислены ниже.
<p align=justify>Эта команда отличается  от  других  команд  страничного
просмотра тем, что позволяет возвращаться по тексту назад. Как это делается - описано ниже.
<p align=justify>Для определения  характеристик  терминала  команда   pg
просматривает базу данных <a href=TERMINFO.htm>terminfo(4)</a> для типа терминала, заданного переменной окружения TERM. Если  переменная TERM не определена, предполагается, что тип  терминала - dumb.
<p align=justify><b>Опции команды:</b><br>
<table>
<tr valign=top><th>-число <td>
Целое число, задающее размер (в строках) страницы,
которое следует использовать  вместо  значения  по
умолчанию. (На терминале,  содержащем  24  строки,
подразумеваемый размер страницы равен 23.)
<tr valign=top><th>-p пригл <td>
Изменение текста приглашения на пригл. Если строка
приглашения содержит %d, то при выводе первая пара
символов %d будет заменена номером текущей страницы. Строка приглашения  по  умолчанию  состоит  из
единственного символа :.
<tr valign=top><th>-c <td> Возврат курсора в начало и  очистка  экрана  перед
выводом  каждой  страницы. Эта опция игнорируется,
если для данного  типа  терминала  в  базе  данных
<a href=TERMINFO.htm>terminfo(4)</a>  не определена операция очистки экрана
clear_screen.
<tr valign=top><th>-e <td>  Исключение пауз при переходе к следующему файлу.
<tr valign=top><th>-f  <td> Обычно команда pg расщепляет строку, если  она  не
помещается на экране, однако расщепление некоторых
последовательностей символов отображаемого  текста
(например, управляющих последовательностей, служащих для подчеркивания) дает нежелательный  эффект.
Опция -f подавляет расщепление строк.
<tr valign=top><th>-n  <td> Обычно ввод команды с клавиатуры завершается нажатием клавиши перевода строки. Эта  опция  вызывает
автоматический ввод команды, как только будет введена командная буква.
<tr valign=top><th>-s <td>  Отображение всех сообщений  и  приглашений  особым
образом (обычно в негативе).
<tr valign=top><th>+номер_строки <td>
Указание номера_строки, с которого  следует  начинать просмотр.
<tr valign=top><th>+/шаблон/ <td>
Указание шаблона для поиска строки, с которой  начинается просмотр.
</table>
<p align=justify>Команды, допустимые когда pg делает паузу между страницами, можно разделить на три группы: команды  продолжения просмотра, поиска и изменения режима просмотра.
<p align=justify>Перед командами продолжения просмотра может  задаваться
адрес - число, возможно со знаком, показывающее, с  какого места файла продолжать просмотр. Этот адрес, в зависимости от команды, интерпретируется в единицах  либо
страниц, либо строк. Адрес со знаком задает точку относительно текущей страницы или строки, а адрес без знака
- относительно начала файла. Для каждой команды существует адрес по умолчанию, который используется  при  отсутствии явного задания.
<p align=justify>Команды продолжения просмотра и значения их  аргументов
по умолчанию:
<dl>
<dt>(+1)перевод_строки <dd>
Вывод на экран очередной страницы. Адрес  задается
в страницах.
<p><dt>(+1)l <dd> Если задан относительный адрес, моделируется дви жение по файлу на заданное количество строк. Если
 задан абсолютный адрес, экран заполняется начиная
 с указанной строки.
<p><dt>(+1)d или CTRL+D <dd>
Перемещение на пол-экрана вперед или назад.
</dl>
<p align=justify>Следующие команды адреса не требуют.
<dl>
<dt>. или CTRL+L <dd>
Повторный вывод текущей страницы текста.
<p align=justify><p><dt>$  <dd>  Вывод последней полной страницы файла.  Необходимо
соблюдать осторожность, если ввод выполняется  через канал.
</dl>
<p align=justify>Перейдем к командам, предназначенным для поиска по шаблонам. Можно использовать регулярные выражения, описанные в команде <a href=ED.htm>ed(1)</a>. Они  должны  обязательно  заканчиваться символом перевода строки, даже если задана опция
-n.
<dl>
<dt>i/шаблон/ <dd>
Поиск вперед до i-го (по умолчанию i = 1)  появления шаблона. Поиск начинается сразу после  текущей
страницы и продолжается до конца файла, без  перехода в начало.
<pre>
   i^шаблон^
   i?шаблон? 
</pre>
</dl>
<p align=justify>Поиск назад до i-го (по умолчанию i = 1) появления
шаблона.  Поиск  начинается  сразу  перед  текущей
страницей и продолжается до начала файла, без  перехода в конец. Обозначение  ^  предусмотрено  для
терминалов Adds 100, которые некорректно манипулируют символом ?.
<p align=justify>Обычно найденная строка оказывается вверху экрана.  Добавление символов m или b к команде поиска  приведет  к
тому, что найденная строка окажется в центре или  внизу
экрана. Для восстановления исходной ситуации можно  использовать суффикс t.
<p align=justify>Пользователь  команды  pg  может  модифицировать  режим
просмотра следующими командами:
<dl>
<dt>in  <dd> Начать работу с  i-м  следующим  файлом  командной
строки; i - число без знака, по умолчанию 1.
<p><dt>ip <dd>  Начать работу с i-м  предыдущим  файлом  командной
строки; i - число без знака, по умолчанию 1.
<p><dt>iw <dd>  Продвинуться по файлу на размер окна. Если i задано, то размер окна устанавливается равным i.
<p><dt>s файл <dd> Сохранить входную  информацию  в  заданном  файле.
Сохраняется только текущий  просматриваемый  файл.
Пробел между s и файлом необязателен. Эта  команда
должна заканчиваться символом перевода строки, даже если задана опция -n.
<p><dt>h <dd>   Вывести справку о доступных командах.
<p><dt>q или Q <dd>Закончить просмотр файлов.
<p><dt>!команда <dd>
Команда передается  интерпретатору,  имя  которого
представляет собой значение  переменной  окружения
SHELL. Если она недоступна, то выбирается  интерпретатор по умолчанию. Эта  команда  должна  всегда
заканчиваться символом перевода строки, даже  если
задана опция -n.
</dl>
<p align=justify>В процессе вывода на терминал пользователь может в  любой момент нажать  клавиши  завершения  или  прерывания
[см. <a href=STTY~1.htm>stty(1)</a>]. В результате этого вывод будет прекращен
и появится приглашение. После этого пользователь  может
ввести одну из вышеперечисленных команд  обычным  образом. К сожалению, при этом теряется часть текста,  т.к.
символы, находящиеся в выходной  очереди  к  терминалу,
при появлении сигнала завершения пропадают. Если  стандартный вывод назначен не на терминал,  то  команда  pg
действует точно так же, как <a href=CAT.htm>cat(1)</a>, за исключением  того, что заголовок выводится перед каждым  файлом  (если
их несколько).
<p align=justify><b>ПРИМЕР</b><br> 
Примером использования команды pg может служить  чтение
новостей:
<pre>
	news | pg  -p  "(Page  %d):"
</pre>
<p><b>ФАЙЛЫ</b>
<pre>
	/usr/lib/terminfo/*     База  данных  с  информацией  о
	 	  	        терминалах.
	/tmp/pg*                Временный файл при вводе из ка- 
			        нала.
</pre>
<p><b>СМ. ТАКЖЕ</b><br>
<a href=ED.htm>ed(1)</a>, <a href=GREP.htm>grep(1)</a>.<br>
<a href=TERMINFO.htm>terminfo(4)</a> в Справочнике программиста.
<p align=justify><b>СЮРПРИЗЫ</b><br>
Если позиции табуляции  установлены  не  через  восемь,
возможны нежелательные эффекты.
<p align=justify>При использовании команды pg в качестве фильтра в сочетании с другой командой, которая изменяет опции  ввода/
вывода терминала, терминал может быть не восстановлен в
исходное состояние.
<p align=justify>При ожидании ввода с терминала команда pg  воспринимает
символы  завершения  и прерывания как сигнал к завершению. Однако, в момент активной работы  эти сигналы  интерпретируются  как приказ перейти в режим приглашения.
Ими следует пользоваться  с  осторожностью,  если  ввод
осуществляется  из  канала,  так как прерывание, скорее
всего, приведет к завершению остальных  команд  конвейера.
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/footer0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="right" valign="top" width="33%">
<font size="-2">Comments: <a class="plain" href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM local copy'">info@citmgu.ru</a><br>
Designed by <a class="plain" href="mailto:andrey@novikov.com">Andrey Novikov</a><br>
Copyright &copy; <a class="plain" href="http://www.citmgu.ru/">CIT</a></font>
</td></tr>
</table>
</td></tr>
</table>
</body>
</html>
