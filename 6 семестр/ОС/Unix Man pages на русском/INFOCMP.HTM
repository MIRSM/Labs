<html>
<head>
<title>INFOCMP(1M)</title>
		    <style type="text/css">
TH.arial { font-family: Arial, Serif;}
P.topic { font-family: sans-serif;}
A.plain { text-decoration: none;}
A.topic01 { color: #006890;
font-family: sans-serif;
text-decoration: none;}
A.topic02 { color: #099771;
font-family: sans-serif;
text-decoration: none;}
A.topic03 { color: #719709;
font-family: sans-serif;
text-decoration: none;}
A.topic04 { color: #98650A;
font-family: sans-serif;
text-decoration: none;}
A.topic05 { color: #98340A;
font-family: sans-serif;
text-decoration: none;}
A.topic06 { color: #099607;
font-family: sans-serif;
text-decoration: none;}
A.topic07 { color: #9E1215;
font-family: sans-serif;
text-decoration: none;}
A.topic08 { color: #970941;
font-family: sans-serif;
text-decoration: none;}
A.topic09 { color: #950995;
font-family: sans-serif;
text-decoration: none;}
A.topic010 { color: #390A98;
font-family: sans-serif;
text-decoration: none;}
H1 { font-family: sans-serif;}
H2 { font-family: sans-serif;}
H3 { font-family: sans-serif;}
H4 { font-family: sans-serif;}
H5 { font-family: sans-serif;}
H6 { font-family: sans-serif;}
</style>
</head>
<body bgcolor="#FFFFFF" link="#006890" vlink="#003860" alink="#800000" text="#000000">
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/header0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<img src="_pic_/logo.gif" width=157 height=53 border=0 alt="Server for Information Technologies">
</td><td align="right">
<font size="-2">Сервер поддерживается<br><a class="plain" href="http://www.citmgu.ru">Центром Информационных Технологий</a><br>(095) 932-9212, 932-9213, 939-0783<br>E-mail: <a class=noneline href="mailto:info@citmgu.ru?Subject='From page topic CIT FORUM local copy'">info@citforum.ru</a></font>
</td></tr>
</table>
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<font size="-1">Сервер содержит море(!) аналитической информации</font>
</td><td align="right">
<font size="-1">CIT Forum CD-ROM</font>
</td></tr>
</table>
</td></tr>
</table>

<h3 align=center>INFOCMP(1M)</h3>
<p align=justify><b>НАЗВАНИЕ</b><br>
infocmp - сравнение или печать информации о характеристиках терминалов, хранящейся в базе данных terminfo
<p><b>СИНТАКСИС</b>
<pre>
   infocmp  [-d] [-c] [-n] [-I] [-L] [-C] [-r] [-u] [-s [d] [i] [l] [c]] [-
    [-w ширина] [-A каталог] [-B каталог] [терминал ...]
</pre>
<p align=justify><b>ОПИСАНИЕ</b><br>
Утилита infocmp используется  для  сравнения  элементов
базы   данных   <a href=TERMINFO.htm>terminfo(4)</a>,  для  перезаписи  элемента
terminfo,  определяемого  по  значению  ключевого  поля
use=, а также для вывода в различных форматах скомпилированного   описания   характеристик   терминалов  [см.
<a href=TERM.htm>term(4)</a>]. Во всех случаях сначала печатаются булевы поля, затем числовые, а затем  поля,  содержащие  цепочки  символов.
<p align=justify>Терминалы задаются своими именами.
<p align=justify><b>Подразумеваемые опции </b><br>
Если  опции  не  указаны, подразумевается опция -I. При
этом, если указано несколько терминалов, подразумевается еще и опция -d.
<p align=justify><b>Опции сравнения [-d] [-c] [-n] </b><br>
Утилита infocmp сравнивает описание характеристик  первого  указанного терминала с остальными указанными терминалами. Если какая-либо из характеристик присутствует
только у одного из терминалов,  возвращается  значение,
зависящее от типа характеристики: F для булевой, -1 для
числовой, NULL для характеристики, описываемой цепочкой
символов.
<table>
<tr valign=top><th>-d <td>  Напечатать список характеристик, по которым терминалы различаются. Если есть два описания для одного и того же терминала или для похожих терминалов,
утилита infocmp покажет разницу между ними. Обычно
это требуется, если два человека составили  описания  одного  и того же терминала и желательно выявить различия между описаниями.
<tr valign=top><th>-c <td>  Напечатать список характеристик, являющихся общими
для  двух терминалов. Характеристики, которых нет,
игнорируются. Эту  опцию  можно  использовать  для
быстрой  проверки  того,  стоит ли применять опцию
-u.
<tr valign=top><th>-n <td>  Напечатать  список  характеристик, отсутствующих у
заданных терминалов. Если  терминалы  не  указаны,
дважды  используется значение переменной окружения
TERM. Опция -n позволяет быстро узнать,  не  осталась  ли  какая-нибудь характеристика за пределами рассмотрения.
</table>
<p align=justify><b>Опции получения исходного листинга [-I] [-L] [-C] [-r] </b><br>
Опции -I, -L, -C используются для выдачи исходного листинга характеристик каждого из указанных терминалов.
<table>
<tr valign=top><th>-I <td>  Использовать имена <a href=TERMINFO.htm>terminfo(4)</a>.
<tr valign=top><th>-L <td>  Использовать длинные имена, перечисленные во включаемом файле &lt;term.h>.
<tr valign=top><th>-C <td>  Использовать имена termcap [см. <a href=TERMINFO.htm>terminfo(4)</a>].
<tr valign=top><th>-r <td>  Преобразовывать все характеристики к виду termcap;
применяется вместе с опцией -C.
</table>
<p align=justify>Если терминалы не указаны, используется значение  переменной окружения TERM.
<p align=justify>Текст, сгенерированный по опции -C, можно без переделок
использовать как элемент базы данных termcap, однако не
исключена  ситуация,  когда некоторые параметризованные
цепочки символов к формату termcap привести не удалось.
Утилита infocmp пытается преобразовать всю параметризованную информацию; то, что  преобразовать  не  удалось,
особо  помечается в выводе и делается комментарием. Подобные фрагменты следует редактировать вручную.
<p align=justify>Вся информация о заполнителях цепочек символов  собирается  вместе  и  помещается в начало цепочки, как этого
требует termcap. Обязательные заполнители  (заканчивающиеся символом /) становятся при этом необязательными.
<p align=justify>Все  переменные  termcap,  которые  не поддерживаются в
terminfo, но могут быть вычислены по другим  переменным
terminfo,  будут включены в число результатов. Преобразуются не все компоненты terminfo, а только те, которые
присутствовали в termcap. Использование опции -r снимает это ограничение и приводит к выводу всех характеристик в виде termcap.
<p align=justify>Отметим, что поскольку информация о заполнителях  выносится в начало, не все характеристики выводятся, обязательное заполнение не поддерживается, а цепочки termcap
не обладают гибкостью цепочек terminfo, иногда оказывается невозможным преобразовать характеристику terminfo,
описываемую цепочкой символов, в эквивалентную характеристику termcap. Если, впоследствии, преобразовать описание  из формата termcap обратно в формат terminfo, не
обязательно получится то, с чего начинали.
<p align=justify>Ниже  приводятся  некоторые  параметризованные  цепочки
terminfo, их эквиваленты в termcap и  типы  терминалов,
использующих эти последовательности:
<table border=1>
<tr valign=top><th>Terminfo   <th> Termcap  <th> Терминалы
<tr valign=top><td>%p1%c   <td>    %.   <td>   adm
<tr valign=top><td>%p1%d    <td>  %d    <td>  hp, ANSI, vt100
<tr valign=top><td>%p1%'x'%+%c  <td>   %+x   <td>   concept
<tr valign=top><td>%i     <td>    %i   <td>   ANSI, vt100
<tr valign=top><td>%p1%?%'x'%>%t%p1%'y'%+%; <td>   %>xy  <td>   concept
<tr valign=top><td>%p2 выводится раньше %p1  <td>  %r   <td>   hp
</table>
<p align=justify><b>Опция use= [-u] </b><br>
<table>
<tr valign=top><th>-u  <td> Сгенерировать  описание в формате terminfo первого
из перечисленных терминалов относительно  описаний
остальных  терминалов. Описание генерируется путем
анализа различий первого терминала и  других  указанных  терминалов и генерации описания, в котором
используются поля use=. Таким образом можно  включить  в  описание  терминала  фрагменты, общие для
группы терминалов. Еще одно применение  опции  -u:
если  описания  сходных  терминалов составлялись в
разное время или разными людьми,  утилита  infocmp
покажет,  что нужно сделать, чтобы получить описание одного терминала относительно другого.
</table>
<p align=justify>Если какая-либо характеристика  отсутствует  у  первого
терминала, но какой-либо из остальных терминалов ею обладает,  то  при печати такая характеристика помечается
символом @. Значение,  соответствующее  характеристике,
печатается, если это значение имеется в описании первого  терминала и отсутствует во всех остальных описаниях
или не совпадает с первым  из  тех  описаний  остальных
терминалов, в которых оно присутствует.
<p align=justify>Порядок, в котором указываются остальные имена терминалов, существен. Поскольку компилятор  terminfo-описаний
<a href=TIC.htm>tic(1M)</a>  обрабатывает все характеристики слева направо,
указание двух полей use=,  которые  содержат  различные
значения  для одной и той же характеристики, приведет к
различным результатам при изменении порядка  элементов.
Утилита  infocmp отмечает все обнаруженные противоречия
такого сорта.
<p align=justify>С другой стороны,  указание  какой-либо  характеристики
после  соответствующего  ей  поля use= приводит к тому,
что это указание  игнорируется.  Использование  утилиты
infocmp  для  воссоздания  описания  может быть хорошей
проверкой корректности исходного описания.
<p align=justify>Еще одной ошибкой, вызывающей возрастание времени  компиляции,  является  употребление избыточных полей use=. Утилита infocmp помечает такие поля.
<p align=justify><b>Остальные опции [-s [d] [i] [l] [c]] [-v] [-V] [-1] [-w ширина] </b><br>
<table>
<tr valign=top><th>-s <td>  Отсортировать поля каждого типа в  соответствии  с
порядком, определяемым следующим аргументом:
<br>d - оставить  поля  в том порядке, в каком они хранятся в базе данных terminfo;
<br>i - отсортировать по terminfo-имени;
<br>l - отсортировать по длинному C-имени;
<br>c - отсортировать по termcap-имени.
<p align=justify>     Из четырех перечисленных  аргументов  должен  быть
задан  ровно  один. Если опция -s не указана, поля
каждого типа сортируются по terminfo-имени, но если указана опция -C,  сортировка  производится  по
termcap-имени,  а  если  указана  опция  -L, то по
длинному C-имени.
<tr valign=top><th>-v <td>  Во время работы программы выводить  в  стандартный
протокол трассировочную информацию.
<tr valign=top><th>-V  <td> Вывести  в стандартный протокол версию программы и
завершиться.
<tr valign=top><th>-1  <td> Печатать поля по одному в строке. Без этой опции в
строке печатается  несколько  полей,  максимальная
ширина по умолчанию - 60 символов.
<tr valign=top><th>-w ширина <td>
    Установить ширину вывода.
</table>
<p align=justify><b>Изменение базы данных [-A каталог] [-B каталог] </b><br>
Место,   где  находится  скомпилированная  база  данных
<a href=TERMINFO.htm>terminfo(4)</a>,  определяется  по   переменной   окружения
TERMINFO.  Если эта переменная не определена или в указанной базе данных  терминал  не  найден,  используется
системная база данных (обычно /usr/lib/terminfo). Опции
-A  и -B служат для изменения описанного порядка. Опция
-A определяет базу данных для первого терминала, а  опция -B определяет базу данных для остальных терминалов.
Таким  образом  можно  сравнивать описания терминалов с
одинаковыми именами, хранящиеся в разных  базах  данных
(например, описания одного и того же терминала, созданные  разными  людьми).  Если  опции  -A и -B не заданы,
сравниваемые терминалы должны иметь различные имена.
<p><b>ФАЙЛЫ</b>
<pre>
    /usr/lib/terminfo/?/*   Скомпилированная  база   данных
               описаний терминалов.
</pre>
<p align=justify><b>ДИАГНОСТИКА</b><br>
<dl>
<dt>malloc is out of space! <dd>
Программе  не  хватило  памяти  для обработки всех
описаний. Запустите утилиту infocmp несколько раз,
указывая меньшее число терминалов.
<P><dt>use= order dependency found <dd>
Значение в относительном описании одного терминала
не совпадает со значением в относительном описании
другого терминала.
<P><dt>'use=терминал' did not add anything for the description <dd>
Использование относительного описания не добавляет
терминалу никаких новых характеристик.
<P><dt>must  have at least two terminal names for a comparison
to be done <dd>
Опции -u, -d и -c  требуют  указания  как  минимум
двух терминалов.
</dl>
<p><b>СМ. ТАКЖЕ</b><br>
<a href=CAPTOINF.htm>captoinfo(1M)</a>, <a href=TIC.htm>tic(1M)</a>.
<a href=CURSES.htm>curses(3X)</a>, <a href=TERM.htm>term(4)</a>, <a href=TERMINFO.htm>terminfo(4)</a> в Справочнике программиста.
<p align=justify><b>ПРИМЕЧАНИЯ</b><br>
База данных termcap, использовавшаяся в ранних  версиях
ОС UNIX, в будущих версиях может не поддерживаться.
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/footer0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="right" valign="top" width="33%">
<font size="-2">Comments: <a class="plain" href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM local copy'">info@citmgu.ru</a><br>
Designed by <a class="plain" href="mailto:andrey@novikov.com">Andrey Novikov</a><br>
Copyright &copy; <a class="plain" href="http://www.citmgu.ru/">CIT</a></font>
</td></tr>
</table>
</td></tr>
</table>
</body>
</html>
