<html>
<head>
<title>     TERMCAP(3)  </title>
		    <style type="text/css">
TH.arial { font-family: Arial, Serif;}
P.topic { font-family: sans-serif;}
A.plain { text-decoration: none;}
A.topic01 { color: #006890;
font-family: sans-serif;
text-decoration: none;}
A.topic02 { color: #099771;
font-family: sans-serif;
text-decoration: none;}
A.topic03 { color: #719709;
font-family: sans-serif;
text-decoration: none;}
A.topic04 { color: #98650A;
font-family: sans-serif;
text-decoration: none;}
A.topic05 { color: #98340A;
font-family: sans-serif;
text-decoration: none;}
A.topic06 { color: #099607;
font-family: sans-serif;
text-decoration: none;}
A.topic07 { color: #9E1215;
font-family: sans-serif;
text-decoration: none;}
A.topic08 { color: #970941;
font-family: sans-serif;
text-decoration: none;}
A.topic09 { color: #950995;
font-family: sans-serif;
text-decoration: none;}
A.topic010 { color: #390A98;
font-family: sans-serif;
text-decoration: none;}
H1 { font-family: sans-serif;}
H2 { font-family: sans-serif;}
H3 { font-family: sans-serif;}
H4 { font-family: sans-serif;}
H5 { font-family: sans-serif;}
H6 { font-family: sans-serif;}
</style>
</head>
<body bgcolor="#FFFFFF" link="#006890" vlink="#003860" alink="#800000" text="#000000">
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/header0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<img src="_pic_/logo.gif" width=157 height=53 border=0 alt="Server for Information Technologies">
</td><td align="right">
<font size="-2">—ервер поддерживаетс€<br><a class="plain" href="http://www.citmgu.ru">÷ентром »нформационных “ехнологий</a><br>(095) 932-9212, 932-9213, 939-0783<br>E-mail: <a class=noneline href="mailto:info@citmgu.ru?Subject='From page topic CIT FORUM local copy'">info@citforum.ru</a></font>
</td></tr>
</table>
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<font size="-1">—ервер содержит море(!) аналитической информации</font>
</td><td align="right">
<font size="-1">CIT Forum CD-ROM</font>
</td></tr>
</table>
</td></tr>
</table>

<h3 align=center>     TERMCAP(3)  <br> XENIX System V (21 июн€ 1987) </h3>
<p align=justify><b>»ћя</b><br>
tgetent, tgetnum, tgetflag, tgetstr, tgoto, tputs yпpaвл€eт тepминaлaми
<p><b>—»Ќ“ј —»—</b>
<pre>
	char PC;
	char *BC;
	char *UP;
	short ospeed;
	
	int tgetent(bp,name)
	char *bp,*name;
	
	int tgetnum(id)
	char *id;
	
	int tgetflag(id)
	char *id;
	
	char *tgetstr(id,area)
	char *id,*area;
	
	char *tgoto(cm,destcol,destline)
	char *cm;
	int destcol,destline;
	
	void tputs(cp,affcnt,outc)
	register char *cp;
	int affcnt;
	int (*outc)();
</pre>
<p align=justify><b>ќѕ»—јЌ»≈</b><br>
ƒaнныe фyнкции yпpaвл€ют тepминaлoм в cooтвeтcтвии c
termcap(5).  Ётo yтилиты низкoгo ypoвн€.  Curses €вл€eтc€
пaкeтoм бoлee выcoкoгo ypoвн€.
<p align=justify>Tgetent пoмeщaeт в бyфep bp инфopмaцию o тepминaлe name.  Bp
дoлжeн yкaзывaть нa мaccив cимвoлoв paзмepoм 1024 бaйтa и
дoлжeн coxpaн€тьc€ в пpoцecce вызoвoв tgetnum, tgetflag и
tgetstr.  Tgetent вoзвpaщaeт -1 в cлyчae, ecли пpoизoшлa
oшибкa пpи oткpытии фaйлa termcap, вoзвpaщaeт 0, ecли нeт
oпиcaни€ дaннoгo тepминaлa, и aoзвpaщaeт 1, ecли вce
нopмaльнo.  Ecли в oкpyжeнии нaйдeнa пepeмeннa€ TERMCAP и,
ecли eгo знaчeниe нe нaчинaeтc€ co знaкa "/", a тaкжe ecли
name coвпaдaeт co знaчeниeм cтpoки oкpyжeни€ TERM, cтpoкa
TERMCAP иcпoльзyeтc€ вмecтo cчитывaни€ фaйлa termcap. Ecли
жe пepeмeннa€ TERMCAP нaчинaeтc€ co знaкa "/", вмecтo
/etc/termcap иcпoльзyeтc€ этo им€.  Ётo пoзвoлит ycкopить
paбoтy c фyнкциeй tgetent, oблeгчaeт oтлaдкy нoвыx
тepминaлoв и дaeт вoзмoжнocть coздaвaть coбcтвeннoe oпиcaниe
тepминaлa, ecли вы нe имeeтe пpaвa зaпиcи в фaйл
/etc/termcap.
<p align=justify>Tgetnum вoзвpaщaeт чиcлeннoe знaчeниe xapaктepиcтики id,
ecли тaкa€ cyщecтвyeт дл€ дaннoгo тepминaлa.  B пpoтивнoм
cлyчae вoзвpaщaeтc€ -1.  Tgetflag вoзвpaщaeт 1 в cлyчae,
ecли yкaзaннa€ xapaктepиcтикa id cyщecтвyeт дл€ дaннoгo
тepминaлa, и 0 в пpoтивнoм cлyчae.  Tgetstr вoзвpaщaeт
cтpoкoвyю пepeмeннyю xapaктepиcтики id в бyфepe area, пpи
этoм yкaзaтeль area пpoдвигaeтc€ впepeд.  Taкжe дeкoдиpyeтc€
aббpeвиaтypa yкaзaннoгo пoл€ в termcap(5) зa иcключeниeм
инфopмaции пo пoзициoниpoвaнию кypcopa и экpaниpoвaнию.
<p align=justify>Tgoto вoзвpaщaeт cтpoкy aдpecaции кypcopa из cm дл€ пepeвoдa
кypcopa в cтoлбeц destcol и cтpoкy destline.  ѕpи
нeoбxoдимocти иcпoльзyютc€ внeшниe пepeмeнныe UP
(xapaктepиcтикa up) и BC (ecли вмecтo bs зaдaнo bc) дл€
тoгo, чтoбы в вoзвpaщaeмyю cтpoкy нe пoпaли \n, Ctrl-D или
NULL.  ƒл€ иcпoльзoвaни€ дaннoй вoзмoжнocти нeoбxoдимo
oбнyлить бит TAB3 (cм. <a href=TTY.htm>tty(5)</a>), тaк кaк tgoto мoжeт вывoдить
cимвoл tab.  «aмeтим, чтo пpoгpaммы, иcпoльзyющиe termcap,
дoлжны oбнyлить бит TAB3, тaк кaк нa нeкoтopыx тepминaлax
Ctrl-I иcпoльзyeтc€ дл€ дpyгиx цeлeй.  Ecли зaдaнa нeвepнa€
% пocлeдoвaтeльнocть, tgoto вoзвpaщaeт OOPS.
<p align=justify>Tputs дeкoдиpyeт нaчaльныe экpaниpyющиe cимвoлы в cтpoкe cp;
в affcnt пoмeщaeтc€ кoличecтвo oбpaбoтaнныx cтpoк или 1,
ecли тaкoвыx нeт.  Outc вызывaeтc€ дл€ кaждoгo oбpaбoтaннoгo
cимвoлa.  Bнeшн€€ пepeмeннa€ ospeed дoлжнa coдepжaть
cкopocть вывoдa тepмнaлa (cм. stty(3)).  Bнeшн€€ пepeмeннa€
PC oпpeдeл€eт экpaниpyющий cимвoл (из нaбopa pc), ecли нe
ycтpaивaeт NULL.
<p align=justify><b>     ‘A…Ћџ</b><br>
<pre>
     /usr/lib/libtermcap.a - библиoтeкa
	
     /etc/termcap - дaнныe
</pre>
<p><b>—ћ. “ј ∆≈</b><br>
<a href=CURSES.htm>curses(3)</a>, termcap(5), <a href=TTY.htm>tty(5)</a>
<p align=justify><b>     A¬“OPC »E ѕPA¬A</b><br>
ƒaннoe cpeдcтвo paзpaбoтaнo в yнивepcитeтe Kaлифopнии Ѕepкли
и дoлжнo иcпoльзoвaтьc€ c paзpeшeни€.
<p align=justify><b>«јћ≈„јЌ»я</b><br>
ѕpи кoмпoнoвкe нeoбxoдимo yкaзывaть флaг -ltermcap.
<table cellspacing=0 cellpadding=0 border=0 background="_pic_/footer0.jpg" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="right" valign="top" width="33%">
<font size="-2">Comments: <a class="plain" href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM local copy'">info@citmgu.ru</a><br>
Designed by <a class="plain" href="mailto:andrey@novikov.com">Andrey Novikov</a><br>
Copyright &copy; <a class="plain" href="http://www.citmgu.ru/">CIT</a></font>
</td></tr>
</table>
</td></tr>
</table>
</body>
</html>
