<html>
<head>
<title>Организация ЭВМ. Память ЭВМ</title>
<!-- Meta http equivalent was here                                     -->
<meta name="keywords" content="динамическая память, RDRAM, Rambus, терминаторы, транзакции,
 SDRAM, DRAM, dummy modules, команда чтения, Rambus Memory Controller, отражение сигналов,
 DRCG, DQA, DQB">

<style type="text/css">
<!--
.txt1 {
	font-family: Helvetica;
	font-size: 12pt;
	font-style: normal;
	line-height: normal;
	font-weight: normal;
	font-variant: normal;
	text-transform: none;
	color: #000000;
	text-indent: 12mm;
	text-align: justify;
}
-->
</style>
<style type="text/css">
<!--
.small1 {
	font-family: Helvetica;
	font-size: 10pt;
	font-style: normal;
	font-weight: normal;
	font-variant: normal;
	text-indent: 12mm;
}
-->
</style>
<style type="text/css">
<!--
.hd1 {
	font-family: Helvetica;
	font-size: 16pt;
	font-style: normal;
	font-weight: bold;
}
.hd2 {
	font-family: Helvetica;
	font-size: 14pt;
	font-style: normal;
	font-weight: bold;
}
-->
</style>
<style type="text/css">
<!--
.txt1c {
	font-family: Helvetica;
	font-size: 12pt;
	text-align: center;
}
-->
</style>
<style type="text/css">
<!--
<style type="text/css">
<!--
.small3 {
	font-family: Helvetical;
	font-size: 10pt;
	position: relative;
	left: 10;
}
-->
</style>
<style type="text/css">
<!--
.txtSQL {
	font-family: Helvetica;
	font-size: 12pt;
	left: 10%;
	position: relative;
	text-align: left;
}
-->
</style>
</head>

<body bgcolor="#FFFFFF">
<p ><i> <font color="#003399"><a name="up" ></a>2.3.5. Динамическая память RDRAM</font></i></p>

<p class="txt1"> Память RDRAM (<em>Rambus DRAM</em>) построена на таких же элементах 
  памяти, как и рассмотренные выше виды динамической памяти. Она относится к тому 
  направлению разработок, в котором производительность памяти (ее пропускная способность, 
  вычисляемая как произведение разрядности шины данных и частоты передачи по ней) 
  достигается за счет увеличения частоты, при уменьшении разрядности шины данных. 
  Последнее обстоятельство способствует снижению взаимных помех от проводников 
  шины, особенно сказывающихся на высоких частотах.</p>
<p class="txt1"> Таким образом, для этого типа памяти характерен свой интерфейс, 
  существенно отличный как логически, так и электрически от интерфейса асинхронных 
  и синхронных DRAM. Шина данных RDRAM имеет 16 разрядов и работает на частоте 
  400 Мгц и выше, используя сдвоенные передачи данных по обоим фронтам синхроимпульсов 
  (как и DDR память). С учетом этого RDRAM обеспечивает пропускную способность 
  1600 Мбайт/с., что, по сравнению с DDR SDRAM, не так уж и много.</p>
<p class="small1"> Определенное противостояние фирмы разработчика памяти RDRAM с 
  разработчиками и изготовителями памяти SDRAM, имевшее место в конце 1990-х годов, 
  привело к отказу многих производителей от использования RDRAM.</p>
<p class="txt1"> Память RDRAM, структура которой показана на рис. 21, включает 
  в себя контроллер (RMC — <em>Rambus Memory Controller</em>), собственно микросхемы 
  памяти, генератор синхросигналов (DRCG — <em>Direct Rambus Clock Generator</em>), 
  источник питания и терминаторы, исключающие отражение сигналов на концах шин.</p>
<p class="txt1c"><img src="pctr/RDRAM_CH.gif" width="437" height="201" alt="Draw_21: RDRAM_interface"></p>
<p class="txt1">Контроллер позволяет использовать различные микросхемы в одном 
  канале, суммируя общую емкость и банки памяти по всем микросхемам. Причем все 
  микросхемы имеют многобанковую организацию (до 32 банков в 256-Мбитных микросхемах). 
  Однако их архитектура может быть различной: со сдвоенными банками (<em>doubled</em>), 
  с разделенными банками (<em>splitted</em>) и с независимыми банками (<em>independent</em>). 
  Эти различия определяют особенности параллельной работы банков.</p>
<p class="txt1"> Во всех случаях разрядность данных микросхемы – 16 бит. Ядро 
  (матрица) элементов памяти, разделенное на банки, имеет построчную организацию, 
  в которой каждая строка разделена на так называемые “двойные восьмерки” (<em>dualocts</em> 
  в терминологии Rambus) , состоящие из 16 байтов каждая. Например, микросхема 
  памяти емкостью 256 Мбит может разделяться на 16 банков по 2 Мбайта, каждый 
  их которых имеет 1024 строки, содержащих по 128 16-байтных двойных восьмерок. 
  Такие двойные восьмерки представляют собой физически минимально адресуемые (внутри 
  микросхемы) единицы данных.</p>
<p class="txt1"> Учитывая высокую частоту работы интерфейса Direct Rambus (именно 
  таково его полное название, но слово Direct часто для краткости опускают), к 
  его физической реализации предъявляются довольно жесткие требования. В частности, 
  его линии должны идти строго параллельно и заканчиваться терминаторами (для 
  подавления отраженных сигналов). Количество слотов для установки модулей памяти 
  в каждом канале не может превышать трех, причем незадействованные слоты должны 
  быть заполнены модулями-заглушками (<em>dummy modules</em>). В свою очередь, 
  один модуль памяти может включать в себя от одной (на практике – от четырех) 
  до 16 микросхем памяти при общей полной нагрузке в 32 устройства на канал. Регламентируется 
  даже то, сколько раз модуль можно вставлять и вынимать из слота – до 25 раз.</p>
<p class="txt1"> Канал памяти имеет три шины: 3-битную шину строк ROW, 5-битную 
  шину столбцов COL и двухбайтовую шину данных, состоящую из двух половинок – DQA 
  и DQB. Кроме того, имеются также линии синхронизации, управляющих сигналов и 
  напряжений питания. Интерфейс предусматривает параллельно-последовательную передачу 
  данных пакетами из восьми посылок (передаваемых за 4 такта шины, т.е. за 10 
  нс при частоте 400 Мгц). Пакет строк, таким образом, состоит из 24 бит, столбцов 
  – из 40 бит, а данных – из 16 байт (по 8 или 9, в случае контроля, бит каждый). 
  Следует помнить, что это не те пакетные передачи, которые осуществляются в интерфейсе 
  BEDO или SDRAM.</p>
<p class="txt1"> Допускается наращивание количества каналов, или, как говорят, 
  масштабируемость памяти. Ведь разрядность данных системной шины данных, например, 
  в ПЭВМ с процессорами семейства P6 – 64 разряда. К одному контроллеру можно 
  подключать до 4-х каналов. Поэтому известны и модули с разрядностью более 16.</p>
<p class="txt1"> Временные диаграммы операций чтения и записи, называемых в RDRAM 
  <em>транзакциями</em>, представлены на рис. 22 и 23, где CFM и CTM означают 
  сигналы синхронизации от микросхем и от контроллера.</p>
<p class="txt1c"><img src="pctr/rdram_rd.gif" width="466" height="191" alt="Draw_22: RDRAM_read"></p>
<p class="txt1"> Как видно из рис. 22, транзакция чтения начинается с команды 
  активации (<em>Act</em>) банка, содержащейся в пакете ROW со строкой адреса <i>a<sub>i</sub></i>. По прошествии 
  времени задержки <em>t</em><sub>RCD</sub> пакетом COL с колонкой адреса <i>a<sub>i</sub></i> выдается 
  команда чтения (<em>Rd</em>) колонки. Адрес, передаваемый в пакете ROW, указывает микросхему, 
  банк и строку, а адрес, передаваемый в пакете COW, указывает микросхему, банк 
  и колонку.</p>
<p class="txt1"> После этого с задержкой <em>t</em><sub>CAC</sub> микросхема выдает прочитанные данные. 
  Отсчет времени на линиях ROW и COL производится по отношению к моментам окончания 
  пакета, а на линиях данных – по отношению к началу пакета. Далее с задержкой 
  <em>t</em><sub>CC</sub> выдается вторая команда чтения (колонки) с адресом <i>a<sub>k</sub></i>.</p>
<p class="txt1"> Затем подается команда подзаряда (<em>Prer</em>) банка, которая 
  должна быть подана не ранее времени <em>t</em><sub>RAS</sub> после команды активации 
  банка (команда активации в любой синхронной динамической памяти, не только RDRAM, 
  разрушает информацию, записанную в активируемой строке, разряжая все конденсаторы, 
  поэтому их и приходится восстанавливать командой подзаряда банка). Кроме того, 
  команда подзаряда не должна выдаваться ранее времени <em>t</em><sub>RPD</sub> 
  после предшествующей команды чтения.</p>
<p class="txt1c"><img src="pctr/rdram_wr.gif" width="469" height="217" alt="Draw_23: RDRAM_write"></p>
<p class="txt1"> Транзакция записи, представленная на рис. 23, начинается также, 
  как и транзакция чтения, командой активации банка. За ней следует команда записи 
  (<em>Wr</em>) колонки, подаваемая через интервал времени, равный <em>t</em><sub>RCD</sub> 
  &#8722 <em>t</em><sub>RTR</sub> (времена отсчитываются от концов пакетов), данные 
  для которой поступают на шины данных с задержкой <em>t</em><sub>CWD</sub>, что 
  отличается от SDRAM памяти, в которой такой задержки нет. Далее с задержкой 
  <em>t</em><sub>CC</sub> по отношению к первой команде выдается вторая команда 
  записи колонки с адресом <i>a<sub>k</sub></i>, а затем и данные для нее.</p>
<p class="txt1"> Спустя время задержки записи <em>t</em><sub>RTR</sub> может быть подана 
  необязательная команда маски записи (<em>Msk</em>), позволяющая производить побитное 
  маскирование записи данных. Если команда маски не подается, то в этих же тактах 
  данные записываются полностью. Наконец, спустя время <em>t</em><sub>RTP</sub> после последней записи 
  подается команда подзаряда строки банка.</p>
<p class="txt1">Как видно, эти транзакции выполняются, в целом, аналогично тому, 
  как и соответствующие операции в SDRAM. Однако имеется и ряд отличий.</p>
<p class="txt1"> Во-первых, транзакции RDRAM обрабатывают только одну передачу, 
  т.е. 2 байта, а не пакет (от 8 до 64 байт как в SDRAM). Это позволяет упростить 
  протокол шины, обеспечивая ее производительность за счет высокой частоты шины.</p>
<p class="txt1"> Во-вторых, передачи адресов и данных выполняются, как указано 
  выше, параллельно-последовательно (занимая по четыре такта шины каждая), что 
  показано на рис. 22 и 23 соответствующими переключениями сигналов. Пакеты, 
  передаваемые по адресным шинам (ROW и COL), могут иметь различное назначение, 
  задавая либо собственно адрес, либо команду. Сами команды (активация (строки) 
  банка, запись, чтение, подзаряд и др.) аналогичны командам памяти SDRAM типа.</p>
<p class="txt1"> В-третьих, имеются особенности синхронизации для транзакций чтения, 
  которые должны компенсировать различную физическую удаленность модулей памяти 
  от контроллера и обеспечить одновременное поступление данных к контроллеру. 
  Для этого приходится устанавливать различную задержку выдачи данных относительно 
  адреса столбца для микросхем, находящихся на разном расстоянии от контроллера.</p>
<p class="txt1">Также, как и SDRAM, память RDRAM допускает конвейерную обработку 
  различных обращений. При полной занятости шины на ней может присутствовать до 
  четырех транзакций, что при обращениях по последовательным адресам может обеспечить 
  до 100% использования полосы пропускания шины данных.</p>

<p></p>
<p class="txt1">[<a href="p234.html"> Назад</a>&nbsp <a href="#up"> Начало раздела</a>&nbsp; 
  <a href="p236.html"> Далее</a>&nbsp; <a href="index.html"> Содержание</a>] </p>
 
</body>
</html>
