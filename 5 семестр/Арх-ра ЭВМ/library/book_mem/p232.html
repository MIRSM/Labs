<html>
<head>
<title>Организация ЭВМ. Память ЭВМ</title>
<!-- Meta http equivalent was here                                     -->
<meta name="keywords" content="статические ЗУ, динамическая память, RAS, CAS, DQM, RAM, SDRAM, время подзаряда, энергосбережение, активация банка, регенерация, интерфейс SDRAM, DRAM, CLK, синхросигнал, ПЭВМ">

<style type="text/css">
<!--
.txt1 {
	font-family: Helvetica;
	font-size: 12pt;
	font-style: normal;
	line-height: normal;
	font-weight: normal;
	font-variant: normal;
	text-transform: none;
	color: #000000;
	text-indent: 12mm;
	text-align: justify;
}
-->
</style>
<style type="text/css">
<!--
.small1 {
	font-family: Helvetica;
	font-size: 10pt;
	font-style: normal;
	font-weight: normal;
	font-variant: normal;
	text-indent: 12mm;
}
-->
</style>
<style type="text/css">
<!--
.hd1 {
	font-family: Helvetica;
	font-size: 16pt;
	font-style: normal;
	font-weight: bold;
}
.hd2 {
	font-family: Helvetica;
	font-size: 14pt;
	font-style: normal;
	font-weight: bold;
}
-->
</style>
<style type="text/css">
<!--
.txt1c {
	font-family: Helvetica;
	font-size: 12pt;
	text-align: center;
}
-->
</style>
<style type="text/css">
<!--
<style type="text/css">
<!--
.small3 {
	font-family: Helvetical;
	font-size: 10pt;
	position: relative;
	left: 10;
}
-->
</style>
<style type="text/css">
<!--
.txtSQL {
	font-family: Helvetica;
	font-size: 12pt;
	left: 10%;
	position: relative;
	text-align: left;
}
-->
</style>
</head>

<body bgcolor="#FFFFFF">
  <p ><i> <font color="#003399"><a name="up" ></a>2.3.2. Синхронная динамическая 
  память SDRAM</font></i></p>

<p class="txt1"> Синхронная динамическая память обеспечивает большее быстродействие, 
  чем асинхронная, при использовании аналогичных элементов памяти. Это позволяет 
  реализовать пакетный цикл типа 5-1-1-1 при частоте системной шины 100 МГц и 
  выше.</p>
<p class="txt1"> Основные сигналы интерфейса SDRAM схожи с сигналами интерфейса 
  асинхронной памяти. Главные их отличия сводятся к появлению ряда новых сигналов:
  <ol>
  <li>У памяти SDRAM присутствует синхросигнал <em><strong>CLK</strong></em>, 
    по переднему фронту которого производятся все переключения в микросхеме. Кроме 
    этого сигнала имеется также сигнал <em><strong>CKE</strong></em> (<em>Clock 
    Enable</em>), разрешающий работу микросхемы при высоком уровне, а при низком 
    – переводящий ее в один из режимов энергосбережения. </li>
  <li>В интерфейсе SDRAM имеются сигналы выбора банка <em><strong>BS</strong></em>0 
    и <em><strong>BS</strong></em>1 (<em>Bank Select</em>), позволяющие адресовать 
    конкретные обращения в один из четырех имеющихся в микросхемах SDRAM банков 
    (массивов элементов) памяти. </li>
  <li>Присутствуют сигналы <strong><em>DQM</em></strong> маски линий данных, позволяющие 
    блокировать запись данных в цикле записи или переключать шину данных в состояние 
    высокого выходного сопротивления (z-состояние) при чтении. </li>
  <li>Имеет место специфическое использование одной из адресных линий (<em>A</em><sub>10</sub>) 
    в момент подачи сигнала <em><strong>CAS</strong></em>#. Значение сигнала на 
    этой линии задает способ подзаряда строки банка.</li>
</ol>
<p class="txt1">Кроме того, SDRAM память сразу ориентирована на выполнение пакетных 
  передач данных, причем длина пакета задается при инициализации микросхем памяти.</p>
<p class="txt1"> Временные диаграммы простых пакетных циклов чтения и записи приведены 
  на рис. 18 и 19.</p>
<p class="txt1c"><a name="#dr18"></a><img src="pctr/sdram_rd.gif" width="541" height="438" alt="Draw_18: SDRAM_RD_timingds"></p>
<p class="txt1c"><a name="#dr19"></a><img src="pctr/sdram_wr.gif" width="508" height="427" alt="Draw_18: SDRAM_WR_timingds"></p>

<p class="txt1">Назначение основных сигналов приведено в таблице 1. Длина пакетов 
  в SDRAM программируется, и на диаграммах показаны операции для пакетов длиной 
  4 цикла (32 байта). Временные параметры, указанные на диаграммах, имеют следующий 
  смысл:
  <ul><li><em>t</em><sub>CK</sub> – задержка данных по отношению к сигналу <em><strong>CAS</strong></em># 
  (<em>CAS Latency</em>): минимально время (в тактах синхроимпульсов) между подачей 
  сигнала <em> <strong>CAS</strong></em># и появлением считанных данных на шине 
  DQ;
  </li><li><i>t</i><sub>RAS</sub> – минимальное время (в тактах синхроимпульсов) активизации банка (<i>Row Active 
  State</i>): минимально допустимое время удержания строки открытой;
  </li><li><em>t</em><sub>RC</sub> – время цикла строки (<em>Row Cycle</em>): минимальный временной интервал (в тактах 
  синхроимпульсов) между двумя последовательными командами активации одного и 
  того же банка (<em>t</em><sub>RC</sub> = <i>t</i><sub>RAS</sub>+ <em>t</em><sub>RP</sub>);
  </li><li><em>t</em><sub>RCD</sub> – задержка между сигналами <em><strong>RAS</strong></em># и 
  <em><strong>CAS</strong></em># (<em>RAS to CAS Delay</em>): минимально допустимое 
  время (в тактах синхроимпульсов) между подачей сигналов <em><strong>RAS</strong></em># и 
  <em><strong>CAS</strong></em>#;
  </li><li><em>t</em><sub>RP</sub> – время подзаряда строки (<em>Row Precharge</em>): минимальное время (в тактах синхроимпульсов), 
  необходимое для подзаряда строки после обращения к ней перед тем, как можно 
  будет обратиться к другой строке того же банка;
  </li><li><em>t</em><sub>RRD</sub> – задержка между двумя последовательными сигналами
   <strong><em>RAS</em></strong># (<em>RAS to RAS Delay</em>): 
  минимально допустимое время (в тактах синхроимпульсов) между командами активации 
  различных банков;
  </li>
  <li><em>t</em><sub>AC</sub> – время доступа (<em>Clock Access</em>): временной 
    интервал (измеряется в наносекундах) от подачи сигнала синхронизации (того 
    такта, в котором должны появиться данные чтения – второй или третий по отношению 
    к сигналу <em><strong>CAS</strong></em># в зависимости от значения <em>CAS 
    Latency</em>) до появления данных на шине DQ; </li>
  <li><em>t</em><sub>OH</sub> – время удержания выходных данных (<em>Data Out Hold</em>): временной интервал (измеряется 
  в наносекундах) от подачи сигнала синхронизации до снятия прочитанных в предыдущем 
  такте данных с шины DQ;
  </li><li><em>t</em><sub>DAL</sub> – время задержки активации/регенерации (<em>Data in to Activate/Refresh Latency</em>): 
  минимальный временной интервал (в тактах синхроимпульсов) от подачи последней 
  порции данных пакета записи до команды активации/регенерации того же банка;
  </li><li><em>t</em><sub>DS</sub> – время установки входных данных (<em>Data in Set-up</em>): минимальный временной 
  интервал (измеряется в наносекундах) от подачи записываемых данных на шину DQ 
  до подачи команды записи (по переднему фронту синхроимпульса);
  </li><li><em>t</em><sub>DH</sub> – время удержания входных данных (<em>Data in Hold</em>): минимальный временной интервал 
  (измеряется в наносекундах) от подачи команды записи до снятия записываемых 
  данных с шины DQ.</ul>
  
<p class="txt1">Важно также учитывать, что различные микросхемы памяти могут иметь 
  разные значения перечисленных параметров. Важными параметрами, влияющими на 
  производительность памяти, являются параметры <em>t</em><sub>CK</sub>, <em>t</em><sub>RCD</sub> 
  и <em>t</em><sub>RP</sub>. Значения этих 
  времен для обычной памяти SDRAM составляют 2 или 3 такта синхроимпульсов и непосредственно 
  определяют длительность основных операций памяти. Очевидно, что память, у которой 
  все эти три параметра имеют значение 2, при пакетных циклах по 4 передачи потребует 
  10 тактов на полный пакет (<em>t</em><sub>RCD</sub> + <em>t</em><sub>CK</sub> + 4 такта передачи + <em>t</em><sub>RP</sub>), а в случае 
  равенства этих параметров 3 потребуется 13 тактов. Время <em>t</em><sub>RP</sub> нужно учитывать 
  с определенными оговорками, например, при обращении к разным строкам одного 
  банка.</p>
<p class="txt1">Приведенные на рис. 18 и 19 диаграммы внешне аналогичны диаграммам 
  асинхронной памяти в режиме BEDO. Действительно, в обоих случаях имеет место 
  пакетный режим. Выигрыш в производительности SDRAM достигается за счет более 
  гибкого управления процессами чтения и записи, возможности задания параметров 
  и лучших алгоритмов работы контроллера памяти.</p>
<p class="txt1"> Во-первых, в SDRAM памяти процессы синхронны, что позволяет более 
  жестко упорядочить их во времени.</p>
<p class="txt1"> Во-вторых, микросхемы SDRAM имеют внутреннюю мультибанковую организацию 
  (на рисунке приведена структура именно такой микросхемы). Это позволяет применять 
  приемы, повышающие пропускную способность памяти. В частности, можно прибегнуть 
  к чередованию, или расслоению, (interleave) адресов, обсуждавшемуся в п. <a href="p12.html#intrlv">1.2</a>. 
  Кроме того, оказывается возможным в ряде случаев так спланировать порядок обработки 
  обращений к памяти, чтобы уменьшить их времена. Однако это не совсем простая 
  задача, так как необходимо учитывать временные ограничения на различные сочетания 
  следующих друг за другом операций, длину пакетных циклов, особенности выполнения 
  подзаряда. Поэтому чипсеты различных производителей обеспечивают разную пропускную 
  способность памяти. Лучше всего решение этой задачи для ПЭВМ удается фирме <em>Intel</em>.</p>
<p class="txt1">Действительно, в общем случае процедура записи или чтения в SDRAM 
  памяти выполняется в три этапа:<br>
  а) Сначала при подаче сигнала <em><strong>RAS</strong></em># происходит выбор 
  нужной строки, или в терминах, принятых для этой памяти, выполняется команда 
  активации банка.<br>
  б) Затем выполняются требуемые операции записи или чтения и передачи данных.<br>
  в) После записи или чтения строку, к которой выполнялось обращение, надо закрыть 
  (выполнить подзаряд банка), иначе нельзя будет обратиться к новой строке этого 
  же банка (вновь его активировать).</p>
<p class="txt1"> Именно за счет первого и последнего этапов и можно добиться ускорения 
  работы памяти. Если очередное обращение к данному банку будет адресоваться к 
  той же строке, то ее можно не закрывать, что позволит не выполнять заново команду 
  активации банка.</p>
<p class="txt1">В таблице 1 перечислены сигналы микросхемы SDRAM, а ниже – выполняемые 
  ею команды (функции).</p>

<table width="600" border="1" align="center">
  <tr  >
    <td width="55" bordercolor="#FFFFFF">&nbsp;</td>
    <td width="54"  bordercolor="#FFFFFF">&nbsp;</td>
    <td width="90" bordercolor="#FFFFFF" >&nbsp;</td>
   <!-- <td width="338" align="right">Таблица 1</td> -->
    <td width="411" align="right" bordercolor="#FFFFFF"><em>Таблица 1</em></td>
  </tr>
  <tr>
    <td align="center">Сигнал</td>
    <td align="center">Тип</td>
    <td align="center">Полярность</td>
    <td align="center">Функция</td>
  </tr>
  <tr > 
    <td >&nbsp;CLK</td>
    <td >&nbsp;Вход</td>
    <td ><span class="small3" >Положит.<br>
      Фронт</span></td>
    <td ><span class="small1">Вход синхронизации системы. Все входы SDRAM срабатывают по положительному 
      фронту CLK</span></td>
  </tr>
  <tr>
    <td>&nbsp;CKE</td>
    <td>&nbsp;Вход</td>
    <td><span class="small3"> Активный уровень – высокий </span></td>
    <td><span class="small1">Активирует сигнал CLK высоким уровнем и отключает 
      – низким. Отключение CLK низким уровнем CKE инициирует режимы энергосбережения 
      и саморегенерации</span></td>
  </tr>
  <tr>
    <td>CS#</td>
    <td>&nbsp;Вход</td>
    <td><span class="small3">Активный – низкий</span></td>
    <td><span class="small1">Низкий уровень включает дешифратор команд, высокий 
      – выключает. Когда дешифратор команд выключен, новые команды игнорируются 
      и продолжается предыдущая операция </span></td>
  </tr>
  <tr>
    <td>RAS#, CAS#,<br>
      WE#<br></td>
    <td>&nbsp;Вход</td>
    <td><span class="small3">Активный – низкий</span></td>
    <td><span class="small1">Состояние RAS, CAS и WE на положительном фронте CLK 
      определяет операцию, которую будет выполнять SDRAM</span></td>
  </tr>
  <tr>
    <td>BS0,<br>
      BS1<br></td>
    <td>&nbsp;Вход</td>
    <td><span class="small3">&nbsp;</span></td>
    <td><span class="small1">Выбирает банк, который должен быть активным</span></td>
  </tr>
  <tr>
    <td>A0 – A11</td>
    <td>&nbsp;Вход</td>
    <td><span class="small3">&nbsp;</span></td>
    <td><span class="small1">Во время цикла команды активации банка по переднему 
      фронту CLK определяют адрес строки (RA0 – RA11)<br>
      Во время цикла команды чтения или записи по переднему фронту CLK A0 – A9 
      и A11 определяют адрес строки (CA0 – CA9 и CA11).<br>
      A10 используется для задания операции автоподзаряда в конце пакетного цикла 
      чтения или записи. При высоком уровне A10 задан автоподзаряд, а BS0 и BS1 
      определяют банк для подзаряда. При низком уровне A10 подзаряд отключен.<br>
      В цикле подзаряда A10 в сочетании с BS0 и BS1 задает банк(и), в котором 
      выполняется подзаряд. При высоком уровне A10 подзаряд выполняется во всех 
      банках, независимо от состояния BS0 и BS1. При низком уровне A10 банк для 
      подзаряда определяется BS0 и BS1. </span></td>
  </tr>
  <tr>
    <td>DQ0 – DQ15</td>
    <td>Вход/Выход</td>
    <td><span class="small3">&nbsp;</span></td>
    <td><span class="small1">Входы/выходы данных работают так же, как в обычной 
      динамической памяти </span></td>
  </tr>
  <tr>
    <td>DQM LDQM UDQM</td>
    <td>&nbsp;Вход</td>
    <td><span class="small3">Активный уровень – высокий </span></td>
    <td><span class="small1">Маска ввода/вывода данных переводит буферы линий 
      DQ в третье состояние высоким уровнем. В 16-разрядных модулях LDQM и UDQM 
      управляют буферами ввода/вывода младшего и старшего байтов соответственно.<br>
      В режиме чтения маска DQM имеет задержку в два цикла и управляет выходными 
      буферами как сигнал “Разрешение выхода”. Низкий уровень DQM включает выходные 
      буферы, а высокий – отключает.<br>
      В режиме записи DQM имеет нулевую задержку и действует, как маска слова, 
      разрешая запись входных данных низким уровнем и блокируя ее высоким уровнем 
      DQM.
      </span></td>
  </tr>
  <tr>
    <td>V<sub>DD</sub>, <br> V<sub>SS</sub></td>
    <td>&nbsp;Вход</td>
    <td><span class="small3">&nbsp;</span></td>
    <td><span class="small1">Питание и земля для входных буферов и логических 
      схем ядра</span></td>
  </tr>
  <tr>
    <td>V <sub>DDQ</sub>,<br>V<sub>SSQ</sub></td>
    <td>&nbsp;Вход</td>
    <td><span class="small3">&nbsp;</span></td>
    <td><span class="small1">Отдельные изолированные шины питания и земли для 
      выходных буферов, обеспечивающие улучшенную помехоустойчивость к шумам</span></td>
  </tr>
</table>
<p class="small1">Команды, выполняемые микросхемой (DDR) SDRAM:
</p>
<table width="100%" border="0">
  <tr>
    <td><span class="small3">- установка регистра режимов<br>
        - авторегенерация (CBR)<br>
        - вход в режим саморегенерации<br>
        - выход из режима саморегенерации<br>
        - подзаряд одного банка<br>
        - подзаряд всех банков<br>
         - активация банка<br>
        - запись<br>
        - запись с автоподзарядом<br>
        - чтение </span>
             </td>
    <td><span class="small3">- чтение с автоподзарядом<br> - завершение пакета<br>
      - нет операции<br>
      - снятие выборки устройства<br>
      - вход в режим приостановки синхронизации<br>
      - выход из режима приостановки синхронизации<br>
      - запись/включение выхода<br>
      - маска/выключение выхода<br>
      - вход в режим пониженного энергопотребления<br>
      - выход из режима пониженного энергопотребления<br> </span></td>
  </tr>
</table>

<p class="txt1">Все выполняемые команды определяются состоянием сигналов <em><strong>CS</strong></em>#, 
  <em> <strong>WE</strong></em>#, <em><strong>RAS</strong></em>#, <em><strong>CAS</strong></em># 
  и DQM по положительному фронту сигнала синхронизации.</p>
  
<p></p>
<p class="txt1">[<a href="p231.html"> Назад</a>&nbsp <a href="#up"> Начало раздела</a>&nbsp; 
  <a href="p233.html"> Далее</a>&nbsp; <a href="index.html"> Содержание</a>] </p>
 
</body>
</html>
