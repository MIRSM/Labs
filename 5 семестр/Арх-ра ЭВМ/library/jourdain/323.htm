<html><head><title>Справочник программиста на персональном компьютере фирмы IBM.Роберт Журден</title> <meta http-equiv="Content-Type" content="text/html; charset=windows-1251"> <link rel=stylesheet type=text/css href=style.css> </head><body> <p class="hdr1">Глава 3. Kлавиатура.</p> <p class="hdr2">Раздел 2. Доступ к отдельным клавишам.</p> <p class="hdr3">3.2.3 Использование клавиш-переключателей: NumLock, CapsLock, Ins и ScrollLock.</p> <p> За исключением клавиши Ins, все остальные клавиши-переключатели не производят кода, который помещался бы в буфер клавиатуры. Вместо этого, они изменяют состояние двух байтов статуса, которые расположены в области данных BIOS по адресам 0040:0017 и 0040:0018. Прерывание клавиатуры проверяет установку этих байтов перед тем как присвоить код введенному символу. Ваши программы имеют доступ к регистрам статуса и могут изменить установку любой из клавиш-переключателей как объяснено в {<a href="317.htm">3.1.7</a>}. <p> Другие биты регистра статуса показывают нажата ли данная клавиша-переключатель в текущий момент. Это свойство позволяет программе использовать клавиши-переключатели в качестве клавиш сдвига. Возможны потенциальные применения этого, пока не создано новых кодов клавиш. Hапример, &lt;ScrollLock&gt; может быть итспользован для того, чтобы добавить добавочный набор комбинаций сдвиг + функциональная клавиатура. Программа, которая будет получать код обычной функциональной клавиши, проверять нажата ли клавиша &lt;ScrollLock&gt; и соответственно интерпретировать нажатие клавиши. Отметим, что любая из клавиш &lt;Shift&gt; обращает текущую установку клавиши &lt;NumLock&gt;. <p> Kлавиша &lt;Ins&gt; помещает в буфер клавиатуры код 0;82, который Ваша программа может прочитать в любой момент. Однако установка для &lt;Ins&gt; в байтах регистра статуса меняется немедленно. Даже если в буфере нет места для кода &lt;Ins&gt;, то в регистре статуса при нажатии клавиши вносятся изменения. Kак &lt;Ins&gt;, так и &lt;ScrollLock&gt;, не влияют на другие клавиши клавиатуры (в отличие от &lt;NumLock&gt; и &lt;CapsLock&gt;). Вы можете приписать им любую роль, какую захотите. Техническое руководство IBM утверждает, что клавиша &lt;ScrollLock&gt; должна использоваться для переключения между состояниями, когда нажатие клавиши перемещения курсора приводит к сдвижке экрана, а не к передвижению курсора. <p> Kонечно, Вы можете создать все требуемые Вашей программе клавиши-переключатели просто назначив клавиши для этой цели. Хотя для этой цели Вы не имеете готовых регистров статуса, но Вы можете создать переменную, значение которой -1 соответствует включенному состоянию Вашего переключателя, а значение 0 - выключенному. <hr><p align="center">
<~-<a href="322.htm">3.2.2 Использование клавиш-переключателей: &lt;Shift&gt;, &lt;Ctrl&gt; и &lt;Alt&gt;.</a><br><a href="index.htm#header">Содержание</a><br><a href="324.htm">3.2.4 Использование цифровой дополнительной клавиатуры и клавиш перемещения курсора.</a>-~>
</p></body></html>
