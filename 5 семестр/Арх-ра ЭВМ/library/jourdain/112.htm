<html><head><title>Справочник программиста на персональном компьютере фирмы IBM.Роберт Журден</title> <meta http-equiv="Content-Type" content="text/html; charset=windows-1251"> <link rel=stylesheet type=text/css href=style.css> </head><body> <p class="hdr1">Глава 1. Системные ресурсы.</p> <p class="hdr2">Раздел 1. Ревизия системных ресурсов.</p> <p class="hdr3">1.1.2 Определение типа IBM PC.</p> <p> Имеются проблемы совместимости между различными типами IBM PC. Для того чтобы программа могла работать на любом из IBM PC, используя все его возможности, необходимо чтобы она могла определить тип машины, в которую она загружена. Эта информация содержится во втором с конца байте памяти по адресу FFFFE в ROM-BIOS, с использованием следующих ключевых чисел. <pre class="asm"> 
             Kомпьютер                Kод 
                PC                     FF 
                XT                     FE 
                PCjr                   FD 
                AT                     FC 
</pre> 
<p> Hизкий уровень. <p> В языке ассемблера: <table align="center"> <tr><td></td><td>;--- Определение типа компьютера:</td></tr> <tr><td>MOV AX,0F000H </td><td>;указывает ES на ПЗУ</td></tr> <tr><td>MOV ES,AX </td><td>;</td></tr> <tr><td>MOV AL,ES:[0FFFEH] </td><td>;получаем байт</td></tr> <tr><td>CMP AL,0FDH </td><td>;это PCjr?</td></tr> <tr><td>JE INITIALIZE_JR </td><td>;переходим на инициализацию</td></tr> </table> <hr><p align="center">
<~-<a href="111.htm">1.1.1 Доступ к микросхеме интерфейса с периферией 8255.</a><br><a href="index.htm#header">Содержание</a><br><a href="113.htm">1.1.3 Определение версии MS DOS.</a>-~>
</p></body></html>
