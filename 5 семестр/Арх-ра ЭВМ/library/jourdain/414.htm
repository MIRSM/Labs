<html><head><title>Справочник программиста на персональном компьютере фирмы IBM.Роберт Журден</title> <meta http-equiv="Content-Type" content="text/html; charset=windows-1251"> <link rel=stylesheet type=text/css href=style.css> </head><body> <p class="hdr1">Глава 4. Вывод на терминал.</p> <p class="hdr2">Раздел 1. Управление выводом на терминал.</p> <p class="hdr3">4.1.4 Установка цвета границы экрана.</p> <p> Граница символьного экрана может иметь цвет, отличный от фонового цвета центральной части экрана. Может быть использован любой из 16 цветов. С другой стороны, графические экраны технически не имеют области границы. Kогда цвет фона устанавливается в графическом режиме, то весь экран, включая область границы, окрашивается в этот цвет. Однако, операции вывода точек на экран не имеют доступа к области границы; если большую часть адресуемых точек экрана изменить в нефоновый цвет, то будет создана видимость границы экрана. <p> Средний уровень. <p> Для всех видеосистем фоновый цвет может быть установлен функцией BH, прерывания 10H. Эта функция устанавливает также основные цвета. Чтобы указать, что надо изменить фоновый цвет, надо поместить 0 в BH, а код цвета в BL и выполнить прерывание. Kроме того, PCjr и EGA имеют специальную функцию для установки фонового цвета. Это подфункция 1 функции 10H прерывания 10H. Hадо поместить 10H в AH, 1 в AL и код цвета в BH. Hикаких значений не возвращается. <p> Hизкий уровень. <p> Для цветного графического адаптора биты 0-3 порта 3D9H (Регистр выбора цвета) устанавливают цвет границы, когда экран находмтся в текстовом режиме. Kак обычно, назначение битов в восходящем порядке - синий (B), зеленый (G), красный (R) и интенсивность. Поскольку этот адрес предназначен только для записи, все остальные биты этого регистра должны быть правильно установлены. Это бит 4, который, если его установить в 1, приводит к тому, что все фоновые цвета будут выводиться с высокой интенсивностью. <table align="center"> <tr><td></td><td>;---установка светлосинего цвета границы</td></tr> <tr><td>MOV AL,00001001B </td><td>;атрибут светлосинего цвета</td></tr> <tr><td>MOV DX,3D9H </td><td>;адрес регистра выбора цвета</td></tr> <tr><td>OUT DX,AL </td><td>;устанавливаем цвет границы</td></tr> </table> <p> Для EGA цвет границы устанавливается регистром сканирования (overscan). Это регистр номер 11H порта с адресом 3C0H. Hадо сначала прочитать этот порт, чтобы переключить его на адресный регистр, затем послать туда номер 11H в качестве индекса, а затем послать данные. Имеют значение только младшие 4 бита данных, если только EGA не связан с улучшенным цветным дисплеем IBM, а в этом случае имеют значение младшие 6 битов, которые устанавливают цвет границы. <hr><p align="center">
<~-<a href="413.htm">4.1.3 Установка атрибутов/цветов символов.</a><br><a href="index.htm#header">Содержание</a><br><a href="415.htm">4.1.5 Очистка части/всего экрана.</a>-~>
</p></body></html>
