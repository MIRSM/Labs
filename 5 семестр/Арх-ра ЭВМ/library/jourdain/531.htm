<html><head><title>Справочник программиста на персональном компьютере фирмы IBM.Роберт Журден</title> <meta http-equiv="Content-Type" content="text/html; charset=windows-1251"> <link rel=stylesheet type=text/css href=style.css> </head><body> <p class="hdr1">Глава 5. Дисковые накопители.</p> <p class="hdr2">Раздел 3. Подготовка к работе с файлами.</p> <p class="hdr3">5.3.1 Установка/проверка накопителя по умолчанию.</p> <p> Программы могут экономить часть работы, назначая накопитель по умолчанию, на котором содержатся файлы данных. Если в начале программы запросить у пользователя какой накопитель он будет использовать, то впоследствии не будет сомнений к какому накопителю следует обращаться. <p> Средний уровень. <p> Функция EH прерывания 21H устанавливает накопитель по умолчанию. Hадо просто поместить номер накопителя (0 = A, 1 = B и т.д.) в DL и выполнить прерывание. Эта функция возвращает в AL число накопителей на машине. Отметим, что когда у машины имеется только один накопитель, то возвращается число 2. Лучший способ определения числа накопителей у машины описан в {<a href="115.htm">1.1.5</a>}. <table align="center"> <tr><td>MOV AH,0EH </td><td>;номер функции</td></tr> <tr><td>MOV DL,1 </td><td>;код для накопителя B</td></tr> <tr><td>INT 21H </td><td>;устанавливаем накопитель по умолчанию</td></tr> </table> <p> Функция 19H прерывания 21H сообщает какой из накопителей является накопителем по умолчанию. Для этой функции нет входных регистров. При возврате в AL содержится кодовый номер, где 0 = A, 1 = B и т.д. <hr><p align="center">
<~-<a href="530.htm">Раздел 3. Подготовка к работе с файлами.</a><br><a href="index.htm#header">Содержание</a><br><a href="532.htm">5.3.2 Создание/удаление файла.</a>-~>
</p></body></html>
