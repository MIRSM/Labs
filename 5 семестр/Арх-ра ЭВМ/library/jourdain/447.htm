<html><head><title>Справочник программиста на персональном компьютере фирмы IBM.Роберт Журден</title> <meta http-equiv="Content-Type" content="text/html; charset=windows-1251"> <link rel=stylesheet type=text/css href=style.css> </head><body> <p class="hdr1">Глава 4. Вывод на терминал.</p> <p class="hdr2">Раздел 4. Вывод точечной графики.</p> <p class="hdr3">4.4.7 Графический вывод с использованием символов псевдографики.</p> <p> Kогда Вы выводите изображение точка за точкой, то это отнимает очень много времени, особенно когда создаются эффекты мультипликации. Один из способов экономии времени состоит в сведении всех или части выводимых форм к фигурам, которые могут быть построены на матрице точек 8*8. Такие фигуры могут быть созданы, как определяемые пользователем символы, как показано в {<a href="434.htm">4.3.4</a>}. После того, как эти символы определены они выводятся на экран очень быстро и просто. Эти символы могут выводиться вперемешку с поточечными графиками, как обычные буквы. Один из способов быстрого заполнения фигуры состоит в последовательном выводе внутри фигуры полностью закрашенного блока. Отметим, что эти символы всегда располагаются в стандартных позициях курсора. <p> Средний уровень. <p> В этом примере рисуется фигура человека, занимающая 2 символа в высоту и 2 символа в ширину. Kак объяснено в {<a href="434.htm">4.3.4</a>} вектор  прерывания 1FH указывает на начало области данных, определяющих символы. Четыре символа могут быть выведены обычными процедурами DOS или BIOS. Легко создать другой набор символов, для вывода фигуры с руками и ногами в другом месте экрана. Два набора символов могут поочередно меняться в соседних позициях курсора, создавая иллюзию человека, идущего по экрану. <table align="center"> <tr><td></td><td>;---в сегменте данных</td></tr> <tr><td>CHARACTER_DATA DB 00110000B </td><td>;левый верхний квадрант</td></tr> <tr><td>DB 01100111B</td><td></td></tr> <tr><td>DB 01100111B</td><td></td></tr> <tr><td>DB 00110011B</td><td></td></tr> <tr><td>DB 00011111B</td><td></td></tr> <tr><td>DB 00001111B</td><td></td></tr> <tr><td>DB 00001111B</td><td></td></tr> <tr><td>DB 00000111B</td><td></td></tr> <tr><td></td><td></td></tr> <tr><td>DB 00000011B </td><td>;правый верхний квадрант</td></tr> <tr><td>DB 10001100B</td><td></td></tr> <tr><td>DB 10011000B</td><td></td></tr> <tr><td>DB 00110000B</td><td></td></tr> <tr><td>DB 11100000B</td><td></td></tr> <tr><td>DB 11000000B</td><td></td></tr> <tr><td>DB 11000000B</td><td></td></tr> <tr><td>DB 10000000B</td><td></td></tr> <tr><td></td><td></td></tr> <tr><td>DB 00001111B </td><td>;левый нижний квадрант</td></tr> <tr><td>DB 00011111B</td><td></td></tr> <tr><td>DB 00011100B</td><td></td></tr> <tr><td>DB 00011000B</td><td></td></tr> <tr><td>DB 00011000B</td><td></td></tr> <tr><td>DB 00110000B</td><td></td></tr> <tr><td>DB 01100000B</td><td></td></tr> <tr><td>DB 00010000B</td><td></td></tr> <tr><td>DB 11000000B </td><td>;правый нижний квадрант</td></tr> <tr><td>DB 11000000B</td><td></td></tr> <tr><td>DB 11000000B</td><td></td></tr> <tr><td>DB 11000000B</td><td></td></tr> <tr><td>DB 01100000B</td><td></td></tr> <tr><td>DB 01100000B</td><td></td></tr> <tr><td>DB 00010000B</td><td></td></tr> <tr><td>DB 00011110B</td><td></td></tr> <tr><td>DB 00000000B</td><td></td></tr> <tr><td></td><td></td></tr> <tr><td></td><td>;---установка вектора прерывания</td></tr> <tr><td>PUSH DS </td><td>;сохраняем DS</td></tr> <tr><td>MOV DX,OFFSET CHAR_DATA </td><td>;смещение для данных в DX</td></tr> <tr><td>MOV AX,SEG CHAR_DATA </td><td>;сегмент для данных в DS</td></tr> <tr><td>MOV DS,AX </td><td>;</td></tr> <tr><td>MOV AH,25H </td><td>;функция установки вектора</td></tr> <tr><td>MOV AL,1FH </td><td>;номер вектора</td></tr> <tr><td>INT 21H </td><td>;устанавливаем вектор</td></tr> <tr><td>POP DS </td><td>;восстанавливаем DS </td></tr> <tr><td></td><td>;---рисуем фигуру</td></tr> <tr><td></td><td>;---позиционируем курсор на верхний ряд</td></tr> <tr><td>MOV AH,2 </td><td>;функция установки курсора</td></tr> <tr><td>MOV DH,13 </td><td>;строка 13</td></tr> <tr><td>MOV DL,20 </td><td>;столбец 20</td></tr> <tr><td>MOV BH,0 </td><td>;страница 0</td></tr> <tr><td>INT 10H </td><td>;установка курсора</td></tr> <tr><td></td><td>;---рисуем верхние два символа</td></tr> <tr><td>MOV DL,128 </td><td>;берем символ 128</td></tr> <tr><td>MOV AH,2 </td><td>;функция вывода/курсор вперед</td></tr> <tr><td>INT 21H </td><td>;вывод символа</td></tr> <tr><td>MOV DL,129 </td><td>;берем символ 129</td></tr> <tr><td>INT 21H </td><td>;выводим его</td></tr> <tr><td></td><td>;---позиционируем курсор на нижнюю строку</td></tr> <tr><td>MOV DH,14 </td><td>;строка 14</td></tr> <tr><td>MOV DL,20 </td><td>;столбец 20 </td></tr> <tr><td>MOV AH,2 </td><td>;функция установки курсора</td></tr> <tr><td>INT 10H </td><td>;устанавливаем курсор</td></tr> <tr><td></td><td>;---рисуем нижние два символа</td></tr> <tr><td>MOV DL,130 </td><td>;берем символ 130</td></tr> <tr><td>MOV AH,2 </td><td>;функция вывода/курсор вперед</td></tr> <tr><td>INT 21H </td><td>;вывод символа</td></tr> <tr><td>MOV DL,131 </td><td>;берем символ 131</td></tr> <tr><td>INT 21H </td><td>;выводим его</td></tr> </table> <hr><p align="center">
<~-<a href="446.htm">4.4.6 Заполнение областей экрана.</a><br><a href="index.htm#header">Содержание</a><br><a href="450.htm">Раздел 5. Сдвиг экрана и страницы.</a>-~>
</p></body></html>
