<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<title>
</title>
<meta http-equiv="Content-Type" content="text/html;charset=windows-1251">
</head>
<body background="../FON.JPG" BGCOLOR="#E7E3E7" TEXT="#000000" LINK="#004080" VLINK="#004080">
<table COLS="3" WIDTH="16%">
<tr>
<td>
<font face="Arial, Helvetica, sans-serif">
<a href="Index30.htm">
<img SRC="Back.gif" BORDER="0" width="73" height="22">
</a>
</font>
</td>
<td WIDTH="10%">
<font face="Arial, Helvetica, sans-serif">
<a href="../index.html">
<img SRC="Menu.gif" BORDER="0" width="73" height="22">
</a>
</font>
</td>
<td ALIGN="RIGHT">
<font face="Arial, Helvetica, sans-serif">
<a href="Index32.htm">
<img SRC="For.gif" BORDER="0" width="73" height="22">
</a>
</font>
</td>
</tr>
</table>
<p>
&nbsp;
</p>
<p align="center">
<font face="Arial, Helvetica, sans-serif" size="3">
<font size="4">
386P+ STR  Сохранение содержимого регистра состояния задачи
</font>
<br>
</font>
</p>
<p align="left">
<font face="Arial, Helvetica, sans-serif" size="3">
  Команда str копирует содержимое регистра задачи TR (селектор сегмента состояния 
  задачи) в двухбайтовый регистр общего назначения или 16-битовую ячейку памяти, 
  указанные в качестве операнда.

</font>
</p>
<p align="left">
&nbsp;</p>
<p align="center"><font face="Arial, Helvetica, sans-serif" size="4">SUB Вычитание 
  целых чисел</font></p>
<font face="Arial, Helvetica, sans-serif" size="3">
<p><br>
  Команда sub вычитает второй операнд (источник) из первого (приемника) и помещает 
  результат на место первого операнда. Исходное значение первого операнда (уменьшаемое) 
  теряется. Таким образом, если команду вычитания записать в общем виде</p>
  <blockquote>
<p>

</font>
    <font face="Verdana, Arial, Helvetica, sans-serif" size="3">sub операнд_1,
    операнд_2</font></p>
</blockquote>
<font face="Arial, Helvetica, sans-serif" size="3">
<p>то ее действие можно условно изобразить 
  следующим образом: </p>
  <blockquote>
<p>

</font>
    <font face="Verdana, Arial, Helvetica, sans-serif" size="3">операнд_1 -
    операнд_2 
  -&gt; операнд_1</font></p>
</blockquote>
<font face="Arial, Helvetica, sans-serif" size="3">
<p>В качестве первого операнда можно 
  указывать регистр (кроме сегментного) или ячейку памяти, в качестве второго 
  - регистр (кроме сегментного), ячейку памяти или непосредственное значение, 
  однако не допускается определять оба операнда одновременно как ячейки памяти. 
  Операнды могут быть байтами или словами и представлять числа со знаком или без 
  знака. Команда воздействует на флаги OF, SF, ZF, AF, PF и CF.</p>
<p align="center"><b>Пример 1</b></p>
  <blockquote>
<p><br>

</font>
    <font face="Verdana, Arial, Helvetica, sans-serif" size="3">
  mov AX,100<br>
  mov BX,60<br>
  sub АХ,ВХ ;АХ=40 (АХ-ВХ) , ВХ=60</font></p>
</blockquote>
<font face="Arial, Helvetica, sans-serif" size="3">
<p align="center"><b>Пример 2</b></p>
  <blockquote>
<p><br>

</font>
    <font face="Verdana, Arial, Helvetica, sans-serif" size="3">
  mov DL, '8 ' mov DH, '0 '<br>
  sub DL,DH ;DL=8 (преобразование кода <br>
  ; ASCII в цифру))</font></p>
</blockquote>
<font face="Arial, Helvetica, sans-serif" size="3">
<p align="center"><b>Пример 3</b></p>
  <blockquote>
<p><br>

</font>
    <font face="Verdana, Arial, Helvetica, sans-serif" size="3">
  ; ; В полях данных<br>
  datl dw -168<br>
  dat2 dw 10<br>
  ; ; В программном сегменте<br>
  mov AX,data2<br>
  sub mem,AX ;mem = -178</font></p>
</blockquote>
<font face="Arial, Helvetica, sans-serif" size="3">
<p><b><img src="pr.gif" ></b> Допустимо использование 
  32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров.</p>
<p align="center"><b>Пример</b></p>
  <blockquote>
<p><br>

</font>
    <font face="Verdana, Arial, Helvetica, sans-serif" size="3">
  mov EAX,1000000<br>
  mov EBX,60000<br>
  sub EAX,EBX ;EAX=40000</font></p>
<p>&nbsp;</p>
</blockquote>
<p align="center"><font face="Arial, Helvetica, sans-serif" size="4">TEST Логическое 
  сравнение</font> </p>
<font face="Arial, Helvetica, sans-serif" size="3">
<p><br>
  Команда test выполняет операцию логического умножения И над двумя операндами 
  и, в зависимости от результата, устанавливает флаги SF, ZF и PF. Флаги OF и 
  CF сбрасываются, a AF имеет неопределенное значение. Состояние флагов можно 
  затем проанализировать командами условных переходов. Команда test не изменяет 
  ни один из операндов.<br>
  В качестве первого операнда команды test можно указывать регистр (кроме сегментного) 
  или ячейку памяти, в качестве второго - регистр (кроме сегментного), ячейку 
  памяти или непосредственное значение, однако не допускается определять оба операнда 
  одновременно как ячейки памяти. Операнды могут быть байтами или словами и представлять 
  числа со знаком или без знака. </p>
<p align="center"><b>Правила побитового умножения:</b></p>
  <blockquote>
<p><br>

</font>
    <font face="Verdana, Arial, Helvetica, sans-serif" size="3">
  Первый операнд-бит 0101</font></p>
<p><font face="Verdana, Arial, Helvetica, sans-serif" size="3">
  Второй операнд-бит 0011</font></p>
<p><font face="Verdana, Arial, Helvetica, sans-serif" size="3">
  Бит результата 0001</font></p>
</blockquote>
<font face="Arial, Helvetica, sans-serif" size="3">
<p><br>
  Флаг SF устанавливается в 1, если в результате выполнения команды образовалось 
  число с установленным знаковым битом.<br>
  Флаг ZF устанавливается в 1, если в результате выполнения команды образовалось 
  число, состоящее из одних двоичных нулей.<br>
  Флаг PF устанавливается в 1, если в результате выполнения команды образовалось 
  число с четным количеством двоичных единиц в его битах.</p>
<p align="center"><b>Пример 1</b></p>
  <blockquote>
<p><br>

</font>
    <font face="Verdana, Arial, Helvetica, sans-serif" size="3">
  test AX,1<br>
  jne bityes ;Переход, если бит 0 в АХ установлен<br>
  je bitno ;Переход, если бит 0 в АХ сброшен</font></p>
</blockquote>
<font face="Arial, Helvetica, sans-serif" size="3">
<p align="center"><b>Пример 2</b></p>
  <blockquote>
<p><br>

</font>
    <font face="Verdana, Arial, Helvetica, sans-serif" size="3">
  test SI,8<br>
  jne bityes ;Переход, если бит 3 в SI установлен<br>
  je bitno ;Переход, если бит 0 в АХ сброшен</font></p>
</blockquote>
<font face="Arial, Helvetica, sans-serif" size="3">
<p align="center"><b>Пример 3</b></p>
  <blockquote>
<p><br>

</font>
    <font face="Verdana, Arial, Helvetica, sans-serif" size="3">
  test DX,0FFFFh<br>
  jz null ;Переход, если DX=0<br>
  jnz smth ;Переход, если DX не 0</font></p>
</blockquote>
<font face="Arial, Helvetica, sans-serif" size="3">
<p align="center"><b>Пример 4</b></p>
  <blockquote>
<p><br>

</font>
    <font face="Verdana, Arial, Helvetica, sans-serif" size="3">
  test CX,0F000h<br>
  jne bitsyes ;Переход, если какие-либо из<br>
  ;4 старших битов СХ установлены <br>
  je bitsno ;Переход, если все 4 старших бита<br>
  ; СХ сброшены</font></p>
</blockquote>
<font face="Arial, Helvetica, sans-serif" size="3">
<p align="center"><b>Пример 5</b></p>
  <blockquote>
<p><br>

</font>
    <font face="Verdana, Arial, Helvetica, sans-serif" size="3">
  test AX,AX<br>
  jz zero ;Переход, если АХ=0<br>
  jnz notzero ;Переход, если АХ не 0</font></p>
</blockquote>
<font face="Arial, Helvetica, sans-serif" size="3">
<p><b><img src="pr.gif" ></b> Допустимо использование 
  32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров.</p>
<p align="center"><b>Пример</b></p>
  <blockquote>
<p><br>

</font>
    <font face="Verdana, Arial, Helvetica, sans-serif" size="3">
  test ЕАХ,80000000h<br>
  jz b31 ;Переход, если бит 31 ЕАХ равен 0<br>
  jnz nob31 ;Переход, если бит 31 ЕАХ равен 1</font></p>
<p>&nbsp;</p>
</blockquote>
<p align="center"><font face="Arial, Helvetica, sans-serif" size="4">386Р+ VERR 
  Проверка сегмента на чтение</font></p>
<font face="Arial, Helvetica, sans-serif" size="3">
<p><br>
  Команда verr позволяет определить, разрешено ли чтение из сегмента, за которым 
  закреплен селектор, передаваемый команде в качестве ее операнда. Операндом может 
  служить 16-разрядный регистр общего назначения или 16-битовая ячейка памяти.</p>
<p>&nbsp;</p>

</font>
<p align="center"><font face="Arial, Helvetica, sans-serif" size="4">386Р+ VERW 
  Проверка сегмента на запись</font></p>

<font face="Arial, Helvetica, sans-serif" size="3">
<p><br>
  Команда verw позволяет определить, разрешена ли запись в сегмент, за которым 
  закреплен селектор, передаваемый команде в качестве ее операнда. Операндом может 
  служить 16-разрядный регистр общего назначения или 16-битовая ячейка памяти.</p>

</font>
<p>
&nbsp;
</p>
<table COLS="3" WIDTH="16%">
<tr>
<td>
<font face="Arial, Helvetica, sans-serif">
<a href="Index30.htm">
<img SRC="Back.gif" BORDER="0" width="73" height="22">
</a>
</font>
</td>
<td WIDTH="10%">
<font face="Arial, Helvetica, sans-serif">
<a href="../index.html">
<img SRC="Menu.gif" BORDER="0" width="73" height="22">
</a>
</font>
</td>
<td ALIGN="RIGHT">
<font face="Arial, Helvetica, sans-serif">
<a href="Index32.htm">
<img SRC="For.gif" BORDER="0" width="73" height="22">
</a>
</font>
</td>
</tr>
</table>
</body>
</html>
