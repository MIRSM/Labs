<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<title>
</title>
<meta http-equiv="Content-Type" content="text/html;charset=windows-1251">
</head>
<body background="../FON.JPG" BGCOLOR="#E7E3E7" TEXT="#000000" LINK="#004080" VLINK="#004080">
<table COLS="3" WIDTH="16%">
<tr>
<td>
<font face="Arial, Helvetica, sans-serif">
<a href="Index13.htm">
<img SRC="Back.gif" BORDER="0" width="73" height="22">
</a>
</font>
</td>
<td WIDTH="10%">
<font face="Arial, Helvetica, sans-serif">
<a href="../index.html">
<img SRC="Menu.gif" BORDER="0" width="73" height="22">
</a>
</font>
</td>
<td ALIGN="RIGHT">
<font face="Arial, Helvetica, sans-serif">
<a href="Index15.htm">
<img SRC="For.gif" BORDER="0" width="73" height="22">
</a>
</font>
</td>
</tr>
</table>
<p>
&nbsp;
</p>
<p align="center">
<font face="Arial, Helvetica, sans-serif" size="3">
<font size="4">
386+ LEAVE Выход из процедуры высокого уровня
</font>
<br>
</font>
</p>
<p align="left">
<font face="Arial, Helvetica, sans-serif" size="3">
  Команда leave выполняет действия, противоположные действиям последней команды 
  enter. Она логически уничтожает созданный командой enter стековый кадр со всеми 
  содержащимися в нем локальными переменными и подготавливает стек к выполнению 
  команды irct, завершающей переход в вызывающую процедуру. Команда leave не имеет 
  параметров. Более подробное описание и пример см. в описании команды
  enter.

</font>
</p>
<p align="left">
&nbsp;</p>
<p align="center"><font face="Arial, Helvetica, sans-serif" size="4">LES Загрузка 
  указателя с использованием регистра ES</font></p>
<font face="Arial, Helvetica, sans-serif" size="3">
<p><br>
  Команда les считывает из памяти по указанному адресу двойное слово (32 бит), 
  содержащее указатель (полный адрес некоторой ячейки), и загружает младшую половину 
  указателя (т.е. относительный адрес) в указанный в команде регистр, а старшую 
  половину указателя (т.е. сегментный адрес) в регистр ES. Таким образом, команда</p>
  <blockquote>
<p>

</font>
    <font face="Verdana, Arial, Helvetica, sans-serif" size="3">les reg,mem</font></p>
</blockquote>
<font face="Arial, Helvetica, sans-serif" size="3">
<p>эквивалентна следующей группе команд:</p>

</font>
<blockquote>
<p><font face="Verdana, Arial, Helvetica, sans-serif" size="3">mov reg,word ptr mem</font></p>
<p><font face="Verdana, Arial, Helvetica, sans-serif" size="3">&nbsp;mov ES,word 
  ptr mem+2</font></p>
</blockquote>
<font face="Arial, Helvetica, sans-serif" size="3">
<p>В качестве первого операнда команды 
  les указывается регистр общего назначения; в качестве второго - ячейка памяти 
  с двухсловным содержимым. Указатель, содержащийся в этой ячейке, может быть 
  адресом как процедуры, так и поля данных. Команда не воздействует на флаги процессора.</p>
<p align="center"><b>Пример 1</b></p>
  <blockquote>
<p><br>

</font>
    <font face="Verdana, Arial, Helvetica, sans-serif" size="3">
  ;В полях данных:<br>
  addr dd myproc ;Двухсловный адрес процедуры<br>
  ;myproc <br>
  ;В программном сегменте:<br>
  les SI,addr ;ES:SI ® myproc</font></p>
</blockquote>
<font face="Arial, Helvetica, sans-serif" size="3">
<p align="center"><b>Пример 2</b></p>
  <blockquote>
<p><br>

</font>
    <font face="Verdana, Arial, Helvetica, sans-serif" size="3">
  ;В полях данных:<br>
  mem dw 25 ;Ячейка памяти с<br>
  ;произвольным содержимым<br>
  addr dd myproc ;Двухсловный адрес этой ячейки <br>
  ;В программном сегменте:<br>
  mov BX,offset addr ;ВХ=адрес ячейки addr<br>
  …<br>
  les DX, [BX] ; DХ=смещение ячейки mem,<br>
  ;ЕS=сегментный адрес ячейки mem</font></p>
</blockquote>
<font face="Arial, Helvetica, sans-serif" size="3">
<p align="center"><b>Пример 3</b></p>
  <blockquote>
<p><br>

</font>
    <font face="Verdana, Arial, Helvetica, sans-serif" size="3">
  ;В полях данных:<br>
  dptr dd procl ;Полный адрес процедуры prod<br>
  dd proc2 ;Полный адрес процедуры ргос2<br>
  dd ргосЗ ;Полный адрес процедуры ргосЗ <br>
  ;В программном сегменте:<br>
  mov SI, 8 ;Смещение к адресу ргосЗ<br>
  les DI,dptr[SI] ;ES:DI -&gt; ргосЗ</font></p>
</blockquote>
<font face="Arial, Helvetica, sans-serif" size="3">
<p><img src="pr.gif" > Допустимо использование 
  32-разрядного регистра-приемника и 32-битового смещения в памяти, а также дополнительных 
  режимов адресации 32-разрядных процессоров. В защищенном режиме вместо сегментного 
  адреса сегмента выступает его селектор.</p>
<p align="center"><b><br>
</b>

</font>
  <font face="Arial, Helvetica, sans-serif" size="4">
 LFS Загрузка указателя с использованием регистра FS</font></p>

<p align="center"><font face="Arial, Helvetica, sans-serif" size="4"> 
  LGS Загрузка указателя с использованием регистра FS</font></p>

<p align="center"><font face="Arial, Helvetica, sans-serif" size="4"> 
  LSS Загрузка указателя с использованием регистра FS</font></p>

<font face="Arial, Helvetica, sans-serif" size="3">
<p><br>
  Команды считывают из памяти полный указатель, состоящий из селектора и 16-битового 
  или 32-битового смещения, и загружают младшую половину указателя (т.е. относительный 
  адрес) в указанный в команде регистр общего назначения, а старшую половину указателя 
  (т.е. селектор) в сегментный регистр, указанный в мнемонике команды.<br>
  В качестве первого операнда всех перечисленных команд указывается 16- или 32-разрядный 
  регистр общего назначения; в качестве второго - ячейка памяти с 32- или 48-битовым 
  содержимым. Команда не воздействует на флаги процессора.<br>
  Примеры см. в описании команд Ids и les.</p>

</font>
<p>
&nbsp;
</p>
<table COLS="3" WIDTH="16%">
<tr>
<td>
<font face="Arial, Helvetica, sans-serif">
<a href="Index13.htm">
<img SRC="Back.gif" BORDER="0" width="73" height="22">
</a>
</font>
</td>
<td WIDTH="10%">
<font face="Arial, Helvetica, sans-serif">
<a href="../index.html">
<img SRC="Menu.gif" BORDER="0" width="73" height="22">
</a>
</font>
</td>
<td ALIGN="RIGHT">
<font face="Arial, Helvetica, sans-serif">
<a href="Index15.htm">
<img SRC="For.gif" BORDER="0" width="73" height="22">
</a>
</font>
</td>
</tr>
</table>
</body>
</html>

