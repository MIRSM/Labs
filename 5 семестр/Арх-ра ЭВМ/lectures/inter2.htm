<html>
<head>
<title>Команды передачи управления</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<link rel="stylesheet" href="../images/styles.css" type="text/css">
</head>

<body bgcolor="#FFFFFF" text="#000000">
<h1 align="center"> Команда передачи управления </h1>
<p>Эти команды используются для организации циклических и разветвляющихся программы. 
  Управление может передаваться как внутри текущего сегмента кода (внутрисегментная 
  передача управления), так и за его пределы (межсегментная передача управления). 
  Тип передачи управления может быть задан ассемблеру предшествующим адресу перехода 
  ключевым словом NEAR (внутрисегментная) или FAR (межсегментная ).</p>
<p>Команды этой группы делятся на </p>
<ul>
  <li> безусловные переходы
  </li><br>
  <li> условные переходы или ветыления</li>
  <br>
  <li>циклы</li>  <br>
</ul>
<p> Инструкция <b>безусловного перехода </b>передаёт управление команде, адрес 
  которой указан в инструкции. Команда безусловного пере-хода имеет вид <b>jmp 
  [< тип > ptr ] операнд. <тип></b> - тип перехода <b>short</b> (короткий) - смещение 
  127 байтов вперёд или 128 байтов назад, <b>near </b>(близкий) - смещение в пределах 
  сегмента (64 Кбайта), <b>far </b>(дальний) - в любой сегмент с любым смещением. 
  Если тип не задан, по умолчанию принимается <b>near</b>. Всего можно выделить 
  пять типов безусловных переходов (таблица 3). </p>
<div align="center">
  <table width="616">
    <tr> 
      <td width="424">&nbsp;</td>
      <td width="180"> 
        <div align="right">Таблица 3</div>
      </td>
    </tr>
  </table>
  <table border=1 cellspacing=0 cellpadding=0 width=619>
    <tr> 
      <td width=207 valign=top class="Normal"> 
        <p style='text-align:center'>Название</p>
      </td>
      <td width=171 valign=top class="Normal"> 
        <p style='text-align:center'>Мнемоника</p>
      </td>
      <td width=233 valign=top class="Normal"> 
        <p style='text-align:center'>Описание</p>
      </td>
    </tr>
    <tr> 
      <td width=207 valign=top class="Normal"> 
        <p>внутрисегментный прямой короткий</p>
      </td>
      <td width=171 valign=top class="Normal"> 
        <p><b><span lang=EN-US>jmp short</span> &lt;операнд&gt; </b></p>
      </td>
      <td width=233 valign=top class="Normal"> 
        <p><span lang=EN-US>IP</span> &#8592; (<span lang=EN-US>IP</span>) + 8-битное 
          смещение, определяемое операндом </p>
      </td>
    </tr>
    <tr> 
      <td width=207 valign=top class="Normal"> 
        <p>внутрисегментный прямой близкий переход</p>
      </td>
      <td width=171 valign=top class="Normal"> 
        <p><b><span lang=EN-US>jmp near ptr &lt;</span>операнд<span lang=EN-US>&gt;</span></b></p>
      </td>
      <td width=233 valign=top class="Normal"> 
        <p><span lang=EN-US>IP</span> &#8592; (<span lang=EN-US>IP</span>)+16-битное 
          сме­щение, определяемое операндом</p>
      </td>
    </tr>
    <tr> 
      <td width=207 valign=top class="Normal"> 
        <p>внутрисегментный косвенный переход</p>
      </td>
      <td width=171 valign=top class="Normal"> 
        <p><b><span lang=EN-US>jmp</span> &lt;адрес операнда&gt;   </b></p>
      </td>
      <td width=233 valign=top class="Normal"> 
        <p><span lang=EN-US>IP</span> &#8592; 16-битный адрес перехода</p>
      </td>
    </tr>
    <tr> 
      <td width=207 valign=top class="Normal"> 
        <p>Межсегментный  прямой далекий переход</p>
      </td>
      <td width=171 valign=top class="Normal"> 
        <p><b><span lang=EN-US>jmp far ptr &lt;</span>операнд<span lang=EN-US>&gt;</span></b></p>
      </td>
      <td width=233 valign=top class="Normal"> 
        <p><span lang=EN-US>IP</span> &#8592; смещение операнда в сегменте <br>
        <p><span lang=EN-US>CS</span> &#8592; адрес сегмен­та, содержащего операнд</p>
      </td>
    </tr>
    <tr> 
      <td width=207 valign=top class="Normal"> 
        <p>Межсегментный  косвенный далёкий переход</p>
      </td>
      <td width=171 valign=top class="Normal"> 
        <p><b><span lang=EN-US>jmp far ptr</span> &lt;адрес операнда&gt;</b></p>
      </td>
      <td width=233 valign=top class="Normal"> 
        <p><span lang=EN-US>IP</span> &#8592; операнд <span lang=EN-US>CS</span> 
          &#8592; адрес операнда +2</p>
      </td>
    </tr>
  </table>
  <p align="left">Команда <b>условного перехода</b> организует передачу управления 
    при выполнении определённого в команде условия, в противном случае переход 
    осуществляется на команду, следующую за инструкцией условно-го перехода. Условия 
    определяются текущим состоянием флагов процессора. Каждая из 30 команд условных 
    переходов проверяет определенную комбинацию флагов.<br>
    Все условные переходы являются короткими, т.е. адрес перехода должен отстоять 
    не далее, чем на - 128 или +127 байтов от первого байта следующей команды. 
    Команды условной передачи управления и проверяемые при их выполнении условия 
    приведены в таблице 4</p>
  <table width="533">
    <tr>
      <td width="396">&nbsp;</td>
      <td width="159"> 
        <div align="right">
          <p>Таблица 4</p>
        </div>
      </td>
    </tr>
  </table>
  <table border=1 cellspacing=0 cellpadding=0>
    <tr> 
      <td width=128 valign=top class="Normal">Мнемокод </td>
      <td width=152 valign=top class="Normal"> 
        <p>    Флаги </p>
      </td>
      <td width=239 valign=top class="Normal"> 
        <p>  Условие перехода  </p>
      </td>
    </tr>
  
    <tr> 
      <td width="123"> 
        <p><b>ja/jnbe</b></p>
      </td>
      <td width="150"> 
        <p>CF or ZF=0</p>
      </td>
      <td width="232"> 
        <p>выше /не ниже и не равно</p>
      </td>
    </tr>
    <tr> 
      <td width="123"> 
        <p><b>jae/jnb</b></p>
      </td>
      <td width="150"> 
        <p>CF=0</p>
      </td>
      <td width="232"> 
        <p>выше или равно/не ниже</p>
      </td>
    </tr>
    <tr> 
      <td width="123"> 
        <p><b>jb/jnae</b></p>
      </td>
      <td width="150"> 
        <p>CF=1</p>
      </td>
      <td width="232"> 
        <p>ниже/не выше и не равно</p>
      </td>
    </tr>
    <tr> 
      <td width="123"> 
        <p><b>jbe/jna</b></p>
      </td>
      <td width="150"> 
        <p>CF or ZF=1</p>
      </td>
      <td width="232"> 
        <p>ниже или равно/не выше</p>
      </td>
    </tr>
    <tr> 
      <td width="123"> 
        <p><b>je/jz</b></p>
      </td>
      <td width="150"> 
        <p>ZF=1</p>
      </td>
      <td width="232"> 
        <p>равно/нуль</p>
      </td>
    </tr>
    <tr> 
      <td width="123"> 
        <p><b>jne/jnz</b></p>
      </td>
      <td width="150"> 
        <p>ZF=0</p>
      </td>
      <td width="232"> 
        <p>не равно/не нуль</p>
      </td>
    </tr>
    <tr> 
      <td width="123"> 
        <p><b>jg/jnle</b></p>
      </td>
      <td width="150"> 
        <p>(SF xor OF) or ZF=0</p>
      </td>
      <td width="232"> 
        <p>больше/не меньше и не равно</p>
      </td>
    </tr>
    <tr> 
      <td width="123"> 
        <p><b>jge/jnl</b></p>
      </td>
      <td width="150"> 
        <p>SF xor OF=0</p>
      </td>
      <td width="232"> 
        <p>больше или равно/не меньше</p>
      </td>
    </tr>
    <tr> 
      <td width="123"> 
        <p><b>jl/jnge</b></p>
      </td>
      <td width="150"> 
        <p>(SF xor OF)=1</p>
      </td>
      <td width="232"> 
        <p>меньше/не больше и не равно</p>
      </td>
    </tr>
    <tr> 
      <td width="123"> 
        <p><b>jle/jng</b></p>
      </td>
      <td width="150"> 
        <p>((SF xor OF) or ZF)=1</p>
      </td>
      <td width="232"> 
        <p>меньше или равно/не больше</p>
      </td>
    </tr>
    <tr> 
      <td width="123"> 
        <p><b>jp/jpe</b></p>
      </td>
      <td width="150"> 
        <p>PF=1</p>
      </td>
      <td width="232"> 
        <p>есть паритет/паритет четный</p>
      </td>
    </tr>
    <tr> 
      <td width="123"> 
        <p><b>jnp/jpo</b></p>
      </td>
      <td width="150"> 
        <p>PF=0</p>
      </td>
      <td width="232"> 
        <p>нет паритета/паритет нечетный</p>
      </td>
    </tr>
    <tr> 
      <td width="123"> 
        <p><b>jc</b></p>
      </td>
      <td width="150"> 
        <p>CF=1</p>
      </td>
      <td width="232"> 
        <p>перенос</p>
      </td>
    </tr>
    <tr> 
      <td width="123"> 
        <p><b>jnc</b></p>
      </td>
      <td width="150"> 
        <p>CF=0</p>
      </td>
      <td width="232"> 
        <p>нет переноса</p>
      </td>
    </tr>
    <tr> 
      <td width="123"> 
        <p><b>jo</b></p>
      </td>
      <td width="150"> 
        <p>OF=1</p>
      </td>
      <td width="232"> 
        <p>переполнение</p>
      </td>
    </tr>
    <tr> 
      <td width="123"> 
        <p><b>jno</b></p>
      </td>
      <td width="150"> 
        <p>OF=0</p>
      </td>
      <td width="232"> 
        <p>нет переполнения</p>
      </td>
    </tr>
    <tr> 
      <td width="123"> 
        <p><b>jns</b></p>
      </td>
      <td width="150"> 
        <p>SF=0</p>
      </td>
      <td width="232"> 
        <p>знак +</p>
      </td>
    </tr>
    <tr> 
      <td width="123"> 
        <p><b>js</b></p>
      </td>
      <td width="150"> 
        <p>SF=1</p>
      </td>
      <td width="232"> 
        <p>знак -</p>
      </td>
    </tr>
  </table>
  <p align=left style='text-align:left;'><b>Примечания:  </b>1.<span
lang=EN-US>&nbsp;</span>термины “выше” и “ниже” применимы для сравнения беззнаковых 
    величин (адресов);</p>
  <p align=left style='text-align:left;'>                          2.<span lang=EN-US>&nbsp;</span>термины 
    “больше” и “меньше” используются при учете знака числа;</p>
  <p align=left style='text-align:left;'>Инструкция, организующая <b>программный 
    цикл </b>имеет вид: <br>
    <b>loop[&lt;условие повторения цикла&gt;] &lt;метка короткого перехода&gt;</b><br>
    Инструкция <b>loop </b>использует содержимое регистра СХ как счетчик по-вторений 
    цикла. Команда <b>loop</b> уменьшает содержимое регистра СХ на 1 и передает 
    управление по адресу, определяемому меткой перехода, если содержимое СХ =0, 
    в противном случае выполняется следующая за <b>loop</b> инструкция. Подобно 
    условным переходам инструкции этой группы могут осуществлять только короткие 
    передачи управления, т.е. в пределах от -128 до +127.<br>
    Подробное описание этих команд можно посмотреть в <a href="../library/asm/guide/guide/Start.htm" target=_blank>справочнике</a>, 
    там же приведены особенности их <a href="../library/asm/guide/guide/LESSON/LESSON10/Les_10.htm" target=_blank>использования 
    </a></p>
  <hr class=forhr align="center">
  <table width="600">
    <tr> 
      <td> 
        <p align="center"><b><a href="istr1.htm" target="mainFrame">назад</a></b></p>
      </td>
      <td> 
        <p align="center"><b> <a href="cpu.htm" target="mainFrame">в начало раздела </a></b></p>
      </td>
      <td> 
        <p align="center"><b><a href="inter3.htm" target="mainFrame">вперед</a></b></p>
      </td>
    </tr>
  </table>
  <p align="left"><br>
  </p>
</div>
</body>
</html>
